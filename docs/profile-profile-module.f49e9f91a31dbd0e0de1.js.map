{"version":3,"sources":["./src/app/profile/profile.component.html","./src/app/profile/profile-routing.module.ts","./src/app/profile/profile.component.ts","./src/app/profile/profile.module.ts"],"names":["routes","path","component","ProfileComponent","authService","toastr","config","canChangePassword","password","new","confirm","isOpen","console","log","this","trim","length","payload","login","email","toggleLoader","changePassword","subscribe","res","error","responseCode","success","businessValidation","i","errorDesc","dataValidation","ProfileRoutingModule","forChild","ProfileModule"],"mappings":"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","file":"profile-profile-module.f49e9f91a31dbd0e0de1.js","sourcesContent":["<div class=\"container profile mt-5\">\r\n  <h3>User Details</h3>\r\n  <br/>\r\n  <div class=\"row justify-content-between\">\r\n    <div class=\"col-md-7 col-sm-12 user-details\">\r\n      <!-- Username -->\r\n      <div class=\"form-group row\" *ngIf=\"config?.user?.firstName\">\r\n        <label for=\"name\" class=\"col-md-4 col-sm-12 col-form-label\">First Name</label>\r\n        <div class=\"input-group col-md-6 col-sm-12\">\r\n          <input type=\"text\" class=\"form-control\" readonly placeholder=\"First name\" value=\"{{config?.user?.firstName}}\">\r\n          <!-- <div class=\"input-group-append\">\r\n            <button class=\"btn btn-primary\" type=\"button\">\r\n              <span class=\"material-icons-outlined\">edit</span>\r\n            </button>\r\n          </div> -->\r\n        </div>\r\n      </div>\r\n      <div class=\"form-group row\" *ngIf=\"config?.user?.middleName\">\r\n        <label for=\"name\" class=\"col-md-4 col-sm-12 col-form-label\">Middle Name</label>\r\n        <div class=\"input-group col-md-6 col-sm-12\">\r\n          <input type=\"text\" class=\"form-control\" readonly placeholder=\"Middle name\"\r\n            value=\"{{config?.user?.middleName}}\">\r\n          <!-- <div class=\"input-group-append\">\r\n            <button class=\"btn btn-primary\" type=\"button\">\r\n              <span class=\"material-icons-outlined\">edit</span>\r\n            </button>\r\n          </div> -->\r\n        </div>\r\n      </div>\r\n      <div class=\"form-group row\" *ngIf=\"config?.user?.lastName\">\r\n        <label for=\"name\" class=\"col-md-4 col-sm-12 col-form-label\">Last Name</label>\r\n        <div class=\"input-group col-md-6 col-sm-12\">\r\n          <input type=\"text\" class=\"form-control\" readonly placeholder=\"Last Name\" value=\"{{config?.user?.lastName}}\">\r\n          <!-- <div class=\"input-group-append\">\r\n            <button class=\"btn btn-primary\" type=\"button\">\r\n              <span class=\"material-icons-outlined\">edit</span>\r\n            </button>\r\n          </div> -->\r\n        </div>\r\n      </div>\r\n      <!-- mailid -->\r\n      <div class=\"form-group row\" *ngIf=\"config?.login?.email\">\r\n        <label for=\"name\" class=\"col-md-4 col-sm-12 col-form-label\">Email Id</label>\r\n        <div class=\"input-group col-md-6 col-sm-12\">\r\n          <input type=\"text\" class=\"form-control\" readonly placeholder=\"Email id\" value=\"{{config?.login?.email}}\">\r\n          <!-- <div class=\"input-group-append\">\r\n            <button class=\"btn btn-primary\" type=\"button\">\r\n              <span class=\"material-icons-outlined\">edit</span>\r\n            </button>\r\n          </div> -->\r\n        </div>\r\n      </div>\r\n      <!-- Phone -->\r\n      <div class=\"form-group row\" *ngIf=\"config?.user?.mobile\">\r\n        <label for=\"name\" class=\"col-sm-12 col-md-4 col-form-label\">Phone Number</label>\r\n        <div class=\"input-group col-sm-12 col-md-6\">\r\n          <input type=\"text\" class=\"form-control\" readonly placeholder=\"+91 8807698554\"\r\n            value=\"{{config?.user?.mobile}}\">\r\n          <!-- <div class=\"input-group-append\">\r\n            <button class=\"btn btn-primary\" type=\"button\">\r\n              <span class=\"material-icons-outlined\">edit</span>\r\n            </button>\r\n          </div> -->\r\n        </div>\r\n      </div>\r\n      <!-- Password -->\r\n      <div class=\"form-group row\" *ngIf=\"!password?.isOpen\">\r\n        <label for=\"name\" class=\"col-md-4 col-sm-12 col-form-label\">Change Password</label>\r\n        <div class=\"input-group col-md-6 col-sm-12\">\r\n          <input type=\"text\" class=\"form-control\" placeholder=\"**********\" aria-label=\"\" readonly>\r\n          <div class=\"input-group-append\">\r\n            <button class=\"btn btn-primary\" type=\"button\" (click)=\"password.isOpen = true\">\r\n              <span class=\"material-icons-outlined\">edit</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <br/>\r\n      <div class=\"bg-light border p-3\" *ngIf=\"password?.isOpen\">\r\n          <h5>Change Password</h5>\r\n          <br/>\r\n          <div class=\"form-group row\">\r\n            <label class=\"col-md-4 col-sm-12 col-form-label\" for=\"New Password\" >\r\n              New Password\r\n            </label>\r\n            <div class=\"input-group col-md-6 col-sm-12\">\r\n              <input type=\"password\" id=\"password\" class=\"form-control\" placeholder=\"New Passport\" required autofocus [(ngModel)]=\"password.new\">\r\n            </div>\r\n          </div>\r\n          <br/>\r\n          <div class=\"form-group row\">\r\n            <label class=\"col-md-4 col-sm-12 col-form-label\" for=\"New Password\" >\r\n              Confirm Password\r\n            </label>\r\n            <div class=\"input-group col-md-6 col-sm-12\">\r\n              <input type=\"password\" id=\"changePassword\" class=\"form-control\" placeholder=\"Confirm Passport\" required autofocus [(ngModel)]=\"password.confirm\">\r\n            </div>\r\n          </div>\r\n          <password-strength-meter [password]=\"password.new\"></password-strength-meter>\r\n          <br />\r\n          <button class=\"btn btn-primary text-uppercase\" type=\"submit\" (click)=\"onChangePassword()\">Change</button>\r\n          <button class=\"btn btn-default text-uppercase\" type=\"button\" [disabled]=\"password.new!==password.confirm\" (click)=\"onCancel()\">Cancel</button>\r\n      </div>\r\n    </div>\r\n    <!-- <div class=\"col-4 user-photo\">\r\n      <div class=\"card\">\r\n        <div class=\"card-body\">\r\n          <div class=\"d-flex flex-row justify-content-between\">\r\n            <h5>Profile Picture</h5>\r\n            <button type=\"button\" class=\"btn btn-primary btn-sm\"> <span class=\"material-icons-round\">\r\n                edit\r\n              </span></button>\r\n          </div>\r\n        </div>\r\n        <img class=\"profile-photo\" src=\"../../../assets/img_avatar.png\" alt=\"Card image\">\r\n      </div>\r\n    </div> -->\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ProfileComponent } from './profile.component';\r\n\r\nconst routes: Routes = [{ path: '', component: ProfileComponent }];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ProfileRoutingModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { CONFIG } from '../config';\r\nimport { AuthService } from '../services/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-profile',\r\n  templateUrl: './profile.component.html',\r\n  styleUrls: ['./profile.component.scss']\r\n})\r\nexport class ProfileComponent implements OnInit {\r\n\r\n  config: typeof CONFIG = CONFIG;\r\n  canChangePassword:boolean = false;\r\n  password:any = {\r\n    new: \"\",\r\n    confirm: \"\",\r\n    isOpen:false\r\n  }\r\n  \r\n  constructor(\r\n    private authService: AuthService,\r\n    private toastr: ToastrService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    console.log(this.config);\r\n  }\r\n\r\n  onCancel() {\r\n    this.password = {\r\n      new: \"\",\r\n      confirm: \"\",\r\n      isOpen:false\r\n    }\r\n  }\r\n\r\n  onChangePassword() {\r\n\r\n    if (this.password.new && this.password.new.trim().length > 0 && this.password.confirm && this.password.confirm.trim().length > 0 ) {\r\n      if (this.password.new === this.password.confirm) {\r\n\r\n        const payload = {\r\n          \"serviceData\": {\r\n            \"password\": this.password.new ,\r\n            \"userId\": this.config.login.email \r\n          }\r\n        }\r\n        this.config.toggleLoader(true);\r\n        this.authService.changePassword(payload)\r\n          .subscribe((res: any) => {\r\n            console.log(\"changePassword\", res);\r\n    \r\n            if (res.error && res.error.responseCode === 0) {\r\n              this.toastr.success(\"Password reset successfull!!.\");\r\n              this.password = {\r\n                new: \"\",\r\n                confirm: \"\",\r\n                isOpen: false\r\n              };\r\n            } else {\r\n              if (res.error) {\r\n                if (res.error.businessValidation.length > 0) {\r\n                  for (let i = 0; i < res.error.businessValidation.length; i++) {\r\n                    this.toastr.error(res.error.businessValidation[i].errorDesc);\r\n                  }\r\n                }\r\n    \r\n                if (res.error.dataValidation.length > 0) {\r\n                  for (let i = 0; i < res.error.dataValidation.length; i++) {\r\n                    this.toastr.error(res.error.dataValidation[i].errorDesc);\r\n                  }\r\n                }\r\n              } else if (res.responseCode == -1) {\r\n                this.toastr.error(\"Password reset Failed, Please try again after sometimes\");\r\n              }\r\n            }\r\n            this.config.toggleLoader(false);\r\n          });\r\n      } else { \r\n        this.toastr.error(\"Confirm password doesn't match.\");\r\n      }\r\n    } else {\r\n      this.toastr.error(\"Please enter Password and Confirm Password to procced.\");\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { ProfileRoutingModule } from './profile-routing.module';\r\nimport { ProfileComponent } from './profile.component';\r\nimport { PasswordStrengthMeterModule } from 'angular-password-strength-meter';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\n\r\n@NgModule({\r\n  declarations: [ProfileComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ProfileRoutingModule,\r\n    PasswordStrengthMeterModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n  ]\r\n})\r\nexport class ProfileModule { }\r\n"],"sourceRoot":"webpack:///"}