{"version":3,"sources":["./node_modules/ngx-lightbox/__ivy_ngcc__/lightbox.module.js","./node_modules/ngx-lightbox/__ivy_ngcc__/lightbox.component.js","./node_modules/ngx-lightbox/__ivy_ngcc__/lightbox-config.service.js","./node_modules/ngx-lightbox/__ivy_ngcc__/lightbox-overlay.component.js","./node_modules/ngx-lightbox/__ivy_ngcc__/lightbox.service.js","./node_modules/ngx-lightbox/__ivy_ngcc__/index.js","./node_modules/rxjs/_esm2015/internal/operators/groupBy.js","./node_modules/rxjs/_esm2015/internal/util/Immediate.js","./node_modules/rxjs/_esm2015/internal/scheduler/AsapAction.js","./node_modules/rxjs/_esm2015/internal/scheduler/AsapScheduler.js","./node_modules/rxjs/_esm2015/internal/scheduler/asap.js","./node_modules/rxjs/_esm2015/internal/scheduler/VirtualTimeScheduler.js","./node_modules/rxjs/_esm2015/internal/util/TimeoutError.js","./node_modules/rxjs/_esm2015/internal/observable/bindNodeCallback.js","./node_modules/rxjs/_esm2015/internal/observable/generate.js","./node_modules/rxjs/_esm2015/internal/observable/iif.js","./node_modules/rxjs/_esm2015/internal/observable/interval.js","./node_modules/rxjs/_esm2015/internal/observable/never.js","./node_modules/rxjs/_esm2015/internal/observable/onErrorResumeNext.js","./node_modules/rxjs/_esm2015/internal/observable/pairs.js","./node_modules/rxjs/_esm2015/internal/util/not.js","./node_modules/rxjs/_esm2015/internal/observable/partition.js","./node_modules/rxjs/_esm2015/internal/observable/race.js","./node_modules/rxjs/_esm2015/internal/observable/range.js","./node_modules/rxjs/_esm2015/internal/observable/using.js","./node_modules/rxjs/_esm2015/internal/observable/zip.js","./node_modules/ngx-lightbox/__ivy_ngcc__/lightbox-event.service.js"],"names":["ɵngcc0","Object","defineProperty","exports","value","lightbox_service_1","lightbox_config_service_1","lightbox_event_service_1","LightboxModule","ɵmod","ɵɵdefineNgModule","type","ɵinj","ɵɵdefineInjector","factory","t","providers","Lightbox","LightboxConfig","LightboxEvent","LightboxWindowRef","ɵngcc1","ɵngcc2","_c0","_c1","_c2","_c3","_c4","_c5","_c6","_c7","_c8","_c9","__decorate","this","decorators","target","key","desc","d","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","__metadata","k","v","metadata","__param","paramIndex","decorator","common_1","core_1","platform_browser_1","LightboxComponent","_elemRef","_rendererRef","_lightboxEvent","_lightboxElem","_lightboxWindowRef","_sanitizer","_documentRef","_this","options","album","currentImageIndex","_windowRef","nativeWindow","ui","showReloader","showLeftArrow","showRightArrow","showArrowNav","showZoomButton","showRotateButton","showPageNumber","showCaption","classList","content","pageNumber","_event","subscription","lightboxEvent$","subscribe","event","_onReceivedEvent","rotate","prototype","ngOnInit","forEach","caption","sanitize","SecurityContext","HTML","ngAfterViewInit","_cssValue","containerTopPadding","Math","round","_getCssStyleValue","_containerElem","containerRightPadding","containerBottomPadding","containerLeftPadding","imageBorderWidthTop","_imageElem","imageBorderWidthBottom","imageBorderWidthLeft","imageBorderWidthRight","_validateInputData","_prepareComponent","_registerImageLoadingEvent","ngOnDestroy","disableKeyboardNav","_disableKeyboardNav","unsubscribe","close","$event","stopPropagation","contains","broadcastLightboxEvent","id","LIGHTBOX_EVENT","CLOSE","data","control","height","width","_rotateContainer","_calcTransformPoint","document","getElementById","style","transform","webkitTransform","ROTATE_LEFT","ROTATE_RIGHT","parseInt","ZOOM_OUT","ZOOM_IN","temp","_resetImage","transformOrigin","nextImage","_changeImage","prevImage","Array","Error","src","isNaN","Number","preloader","Image","onload","_onLoadImageSuccess","URL","imageHeight","imageWidth","maxImageHeight","maxImageWidth","naturalImageWidth","naturalImageHeight","nativeElement","naturalWidth","naturalHeight","fitImageInViewPort","innerHeight","innerWidth","setStyle","_sizeContainer","centerVertically","_centerVertically","documentElement","scrollTop","oldHeight","_outerContainerElem","offsetHeight","newWidth","newHeight","abs","offsetWidth","enableTransition","transitions","eventName","push","listen","currentTarget","_postResize","isArray","eventHandler","_dataContainerElem","_showImage","_updateNav","_updateDetails","_enableKeyboardNav","_addCssAnimation","_positionLightBox","setTimeout","showZoom","showRotate","left","pageXOffset","scrollLeft","pageYOffset","positionFromTop","disableScrolling","addClass","resizeDuration","fadeDuration","_captionElem","_numberElem","_end","removeClass","cmpRef","destroy","showImageNumberLabel","_albumLabel","albumLabel","replace","newIndex","_hideImage","CHANGE_PAGE","alwaysShowNav","createEvent","e","_showArrowNav","wrapAround","_leftArrowElem","_rightArrowElem","_showLeftArrowNav","_showRightArrowNav","keyup","_keyboardAction","keycode","keyCode","String","fromCharCode","toLowerCase","match","elem","propertyName","parseFloat","getComputedStyle","getPropertyValue","Input","ViewChild","static","ElementRef","Inject","DOCUMENT","Renderer2","DomSanitizer","Document","ɵfac","ɵɵdirectiveInject","ɵcmp","ɵɵdefineComponent","selectors","viewQuery","rf","ctx","_t","ɵɵviewQuery","ɵɵqueryRefresh","ɵɵloadQuery","first","_navArrowElem","hostVars","hostBindings","ɵɵlistener","ɵɵclassMap","inputs","attrs","decls","vars","consts","template","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵadvance","ɵɵproperty","ɵɵsanitizeUrl","ɵɵsanitizeHtml","ɵɵtextInterpolate","encapsulation","alwaysShowNavOnTouchDevices","containerElementResolver","documentRef","querySelector","ɵprov","ɵɵdefineInjectable","token","LightboxOverlayComponent","_subscription","_sizeOverlay","onResize","_getOverlayWidth","_getOverlayHeight","max","body","scrollWidth","clientWidth","scrollHeight","clientHeight","HostListener","Function","ɵɵresolveWindow","lightbox_component_1","lightbox_overlay_component_1","_componentFactoryResolver","_injector","_applicationRef","_lightboxConfig","open","curIndex","overlayComponentRef","_createComponent","componentRef","newOptions","OPEN","assign","instance","attachView","hostView","onDestroy","detachView","containerElement","appendChild","location","ComponentClass","resolveComponentFactory","create","ComponentFactoryResolver","Injector","ApplicationRef","ɵɵinject","lightbox_module_1","Observable","groupSubject","refCountSubscription","super","subscriber","Subscription","closed","add","parent","count","attemptedToUnsubscribe","nextHandle","RESOLVED","Promise","resolve","activeHandles","findAndClearHandle","handle","Immediate","cb","then","AsyncAction","scheduler","work","delay","requestAsyncId","actions","scheduled","setImmediate","flush","bind","recycleAsyncId","clearImmediate","undefined","AsyncScheduler","action","active","error","index","shift","execute","state","asapScheduler","asap","VirtualTimeScheduler","SchedulerAction","maxFrames","POSITIVE_INFINITY","frame","frameTimeFactor","schedule","sort","sortActions","_execute","a","b","TimeoutError","TimeoutErrorImpl","call","message","name","bindNodeCallback","callbackFunc","resultSelector","isScheduler","args","pipe","map","params","subject","context","dispatch","AsyncSubject","handler","innerArgs","err","next","complete","apply","canReportError","console","warn","dispatchError","dispatchNext","arg","generate","initialStateOrOptions","condition","iterate","resultSelectorOrObservable","initialState","identity","conditionResult","needIterate","iif","trueResult","falseResult","defer","interval","period","isNumeric","counter","NEVER","noop","never","onErrorResumeNext","sources","remainder","subNext","from","pairs","obj","keys","hasOwnProperty","not","pred","thisArg","notPred","partition","source","predicate","filter","subscribeTo","race","observables","fromArray","lift","RaceOperator","OuterSubscriber","destination","hasFirst","subscriptions","observable","len","subscribeToResult","_outerValue","innerValue","outerIndex","remove","range","start","current","using","resourceFactory","observableFactory","resource","result","zip","pop","ZipOperator","Subscriber","values","iterators","StaticIterator","iterator","stillUnsubscribed","hasValue","shouldComplete","hasCompleted","done","_tryresultSelector","nextResult","Boolean","array","buffer","isComplete","notifyInactive","checkIterators","innerSubscribe","rxjs_1","_lightboxEventSource","Subject","asObservable","get","window","enumerable","configurable"],"mappings":"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","file":"default~main_site-main_site-module~view-view-module~wizard-wizard-module.297777fea27eca93eca8.js","sourcesContent":["\"use strict\";\nvar ɵngcc0 = require('@angular/core');\nvar ɵngcc1 = require('./lightbox-overlay.component');\nvar ɵngcc2 = require('./lightbox.component');\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar lightbox_service_1 = require(\"./lightbox.service\");\nvar lightbox_component_1 = require(\"./lightbox.component\");\nvar lightbox_config_service_1 = require(\"./lightbox-config.service\");\nvar lightbox_event_service_1 = require(\"./lightbox-event.service\");\nvar lightbox_overlay_component_1 = require(\"./lightbox-overlay.component\");\nvar core_1 = require(\"@angular/core\");\nvar LightboxModule = /** @class */ (function () {\n    function LightboxModule() {\n    }\nLightboxModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: LightboxModule });\nLightboxModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function LightboxModule_Factory(t) { return new (t || LightboxModule)(); }, providers: [\n        lightbox_service_1.Lightbox,\n        lightbox_config_service_1.LightboxConfig,\n        lightbox_event_service_1.LightboxEvent,\n        lightbox_event_service_1.LightboxWindowRef\n    ] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(LightboxModule, { declarations: [ɵngcc1.LightboxOverlayComponent, ɵngcc2.LightboxComponent] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(LightboxModule, [{\n        type: core_1.NgModule,\n        args: [{\n                declarations: [lightbox_overlay_component_1.LightboxOverlayComponent, lightbox_component_1.LightboxComponent],\n                providers: [\n                    lightbox_service_1.Lightbox,\n                    lightbox_config_service_1.LightboxConfig,\n                    lightbox_event_service_1.LightboxEvent,\n                    lightbox_event_service_1.LightboxWindowRef\n                ],\n                entryComponents: [lightbox_overlay_component_1.LightboxOverlayComponent, lightbox_component_1.LightboxComponent]\n            }]\n    }], function () { return []; }, null); })();\n    return LightboxModule;\n}());\nexports.LightboxModule = LightboxModule;\n\n//# sourceMappingURL=lightbox.module.js.map","\"use strict\";\nvar ɵngcc0 = require('@angular/core');\nvar ɵngcc1 = require('./lightbox-event.service');\nvar ɵngcc2 = require('@angular/platform-browser');\n\nvar _c0 = [\"outerContainer\"];\nvar _c1 = [\"container\"];\nvar _c2 = [\"leftArrow\"];\nvar _c3 = [\"rightArrow\"];\nvar _c4 = [\"navArrow\"];\nvar _c5 = [\"dataContainer\"];\nvar _c6 = [\"image\"];\nvar _c7 = [\"caption\"];\nvar _c8 = [\"number\"];\nvar _c9 = [\"lb-content\", \"\"];\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar common_1 = require(\"@angular/common\");\nvar core_1 = require(\"@angular/core\");\nvar platform_browser_1 = require(\"@angular/platform-browser\");\nvar lightbox_event_service_1 = require(\"./lightbox-event.service\");\nvar LightboxComponent = /** @class */ (function () {\n    function LightboxComponent(_elemRef, _rendererRef, _lightboxEvent, _lightboxElem, _lightboxWindowRef, _sanitizer, _documentRef) {\n        var _this = this;\n        this._elemRef = _elemRef;\n        this._rendererRef = _rendererRef;\n        this._lightboxEvent = _lightboxEvent;\n        this._lightboxElem = _lightboxElem;\n        this._lightboxWindowRef = _lightboxWindowRef;\n        this._sanitizer = _sanitizer;\n        this._documentRef = _documentRef;\n        // initialize data\n        this.options = this.options || {};\n        this.album = this.album || [];\n        this.currentImageIndex = this.currentImageIndex || 0;\n        this._windowRef = this._lightboxWindowRef.nativeWindow;\n        // control the interactive of the directive\n        this.ui = {\n            // control the appear of the reloader\n            // false: image has loaded completely and ready to be shown\n            // true: image is still loading\n            showReloader: true,\n            // control the appear of the nav arrow\n            // the arrowNav is the parent of both left and right arrow\n            // in some cases, the parent shows but the child does not show\n            showLeftArrow: false,\n            showRightArrow: false,\n            showArrowNav: false,\n            // control the appear of the zoom and rotate buttons\n            showZoomButton: false,\n            showRotateButton: false,\n            // control whether to show the\n            // page number or not\n            showPageNumber: false,\n            showCaption: false,\n            classList: 'lightbox animation fadeIn'\n        };\n        this.content = {\n            pageNumber: ''\n        };\n        this._event = {};\n        this._lightboxElem = this._elemRef;\n        this._event.subscription = this._lightboxEvent.lightboxEvent$\n            .subscribe(function (event) { return _this._onReceivedEvent(event); });\n        this.rotate = 0;\n    }\n    LightboxComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        this.album.forEach(function (album) {\n            if (album.caption) {\n                album.caption = _this._sanitizer.sanitize(core_1.SecurityContext.HTML, album.caption);\n            }\n        });\n    };\n    LightboxComponent.prototype.ngAfterViewInit = function () {\n        // need to init css value here, after the view ready\n        // actually these values are always 0\n        this._cssValue = {\n            containerTopPadding: Math.round(this._getCssStyleValue(this._containerElem, 'padding-top')),\n            containerRightPadding: Math.round(this._getCssStyleValue(this._containerElem, 'padding-right')),\n            containerBottomPadding: Math.round(this._getCssStyleValue(this._containerElem, 'padding-bottom')),\n            containerLeftPadding: Math.round(this._getCssStyleValue(this._containerElem, 'padding-left')),\n            imageBorderWidthTop: Math.round(this._getCssStyleValue(this._imageElem, 'border-top-width')),\n            imageBorderWidthBottom: Math.round(this._getCssStyleValue(this._imageElem, 'border-bottom-width')),\n            imageBorderWidthLeft: Math.round(this._getCssStyleValue(this._imageElem, 'border-left-width')),\n            imageBorderWidthRight: Math.round(this._getCssStyleValue(this._imageElem, 'border-right-width'))\n        };\n        if (this._validateInputData()) {\n            this._prepareComponent();\n            this._registerImageLoadingEvent();\n        }\n    };\n    LightboxComponent.prototype.ngOnDestroy = function () {\n        if (!this.options.disableKeyboardNav) {\n            // unbind keyboard event\n            this._disableKeyboardNav();\n        }\n        this._event.subscription.unsubscribe();\n    };\n    LightboxComponent.prototype.close = function ($event) {\n        $event.stopPropagation();\n        if ($event.target.classList.contains('lightbox') ||\n            $event.target.classList.contains('lb-loader') ||\n            $event.target.classList.contains('lb-close')) {\n            this._lightboxEvent.broadcastLightboxEvent({ id: lightbox_event_service_1.LIGHTBOX_EVENT.CLOSE, data: null });\n        }\n    };\n    LightboxComponent.prototype.control = function ($event) {\n        $event.stopPropagation();\n        var height;\n        var width;\n        if ($event.target.classList.contains('lb-turnLeft')) {\n            this.rotate = this.rotate - 90;\n            this._rotateContainer();\n            this._calcTransformPoint();\n            document.getElementById('image').style.transform = \"rotate(\" + this.rotate + \"deg)\";\n            document.getElementById('image').style.webkitTransform = \"rotate(\" + this.rotate + \"deg)\";\n            this._lightboxEvent.broadcastLightboxEvent({ id: lightbox_event_service_1.LIGHTBOX_EVENT.ROTATE_LEFT, data: null });\n        }\n        else if ($event.target.classList.contains('lb-turnRight')) {\n            this.rotate = this.rotate + 90;\n            this._rotateContainer();\n            this._calcTransformPoint();\n            document.getElementById('image').style.transform = \"rotate(\" + this.rotate + \"deg)\";\n            document.getElementById('image').style.webkitTransform = \"rotate(\" + this.rotate + \"deg)\";\n            this._lightboxEvent.broadcastLightboxEvent({ id: lightbox_event_service_1.LIGHTBOX_EVENT.ROTATE_RIGHT, data: null });\n        }\n        else if ($event.target.classList.contains('lb-zoomOut')) {\n            height = parseInt(document.getElementById('outerContainer').style.height, 10) / 1.5;\n            width = parseInt(document.getElementById('outerContainer').style.width, 10) / 1.5;\n            document.getElementById('outerContainer').style.height = height + 'px';\n            document.getElementById('outerContainer').style.width = width + 'px';\n            height = parseInt(document.getElementById('image').style.height, 10) / 1.5;\n            width = parseInt(document.getElementById('image').style.width, 10) / 1.5;\n            document.getElementById('image').style.height = height + 'px';\n            document.getElementById('image').style.width = width + 'px';\n            this._lightboxEvent.broadcastLightboxEvent({ id: lightbox_event_service_1.LIGHTBOX_EVENT.ZOOM_OUT, data: null });\n        }\n        else if ($event.target.classList.contains('lb-zoomIn')) {\n            height = parseInt(document.getElementById('outerContainer').style.height, 10) * 1.5;\n            width = parseInt(document.getElementById('outerContainer').style.width, 10) * 1.5;\n            document.getElementById('outerContainer').style.height = height + 'px';\n            document.getElementById('outerContainer').style.width = width + 'px';\n            height = parseInt(document.getElementById('image').style.height, 10) * 1.5;\n            width = parseInt(document.getElementById('image').style.width, 10) * 1.5;\n            document.getElementById('image').style.height = height + 'px';\n            document.getElementById('image').style.width = width + 'px';\n            this._lightboxEvent.broadcastLightboxEvent({ id: lightbox_event_service_1.LIGHTBOX_EVENT.ZOOM_IN, data: null });\n        }\n    };\n    LightboxComponent.prototype._rotateContainer = function () {\n        var temp = this.rotate;\n        if (temp < 0) {\n            temp *= -1;\n        }\n        if (temp / 90 % 4 === 1 || temp / 90 % 4 === 3) {\n            document.getElementById('outerContainer').style.height = document.getElementById('image').style.width;\n            document.getElementById('outerContainer').style.width = document.getElementById('image').style.height;\n            document.getElementById('container').style.height = document.getElementById('image').style.width;\n            document.getElementById('container').style.width = document.getElementById('image').style.height;\n        }\n        else {\n            document.getElementById('outerContainer').style.height = document.getElementById('image').style.height;\n            document.getElementById('outerContainer').style.width = document.getElementById('image').style.width;\n            document.getElementById('container').style.height = document.getElementById('image').style.width;\n            document.getElementById('container').style.width = document.getElementById('image').style.height;\n        }\n    };\n    LightboxComponent.prototype._resetImage = function () {\n        this.rotate = 0;\n        document.getElementById('image').style.transform = \"rotate(\" + this.rotate + \"deg)\";\n        document.getElementById('image').style.webkitTransform = \"rotate(\" + this.rotate + \"deg)\";\n    };\n    LightboxComponent.prototype._calcTransformPoint = function () {\n        var height = parseInt(document.getElementById('image').style.height, 10);\n        var width = parseInt(document.getElementById('image').style.width, 10);\n        var temp = this.rotate % 360;\n        if (temp < 0) {\n            temp = 360 + temp;\n        }\n        if (temp === 90) {\n            document.getElementById('image').style.transformOrigin = (height / 2) + 'px ' + (height / 2) + 'px';\n        }\n        else if (temp === 180) {\n            document.getElementById('image').style.transformOrigin = (width / 2) + 'px ' + (height / 2) + 'px';\n        }\n        else if (temp === 270) {\n            document.getElementById('image').style.transformOrigin = (width / 2) + 'px ' + (width / 2) + 'px';\n        }\n    };\n    LightboxComponent.prototype.nextImage = function () {\n        if (this.album.length === 1) {\n            return;\n        }\n        else if (this.currentImageIndex === this.album.length - 1) {\n            this._changeImage(0);\n        }\n        else {\n            this._changeImage(this.currentImageIndex + 1);\n        }\n    };\n    LightboxComponent.prototype.prevImage = function () {\n        if (this.album.length === 1) {\n            return;\n        }\n        else if (this.currentImageIndex === 0 && this.album.length > 1) {\n            this._changeImage(this.album.length - 1);\n        }\n        else {\n            this._changeImage(this.currentImageIndex - 1);\n        }\n    };\n    LightboxComponent.prototype._validateInputData = function () {\n        if (this.album &&\n            this.album instanceof Array &&\n            this.album.length > 0) {\n            for (var i = 0; i < this.album.length; i++) {\n                // check whether each _nside\n                // album has src data or not\n                if (this.album[i].src) {\n                    continue;\n                }\n                throw new Error('One of the album data does not have source data');\n            }\n        }\n        else {\n            throw new Error('No album data or album data is not correct in type');\n        }\n        // to prevent data understand as string\n        // convert it to number\n        if (isNaN(this.currentImageIndex)) {\n            throw new Error('Current image index is not a number');\n        }\n        else {\n            this.currentImageIndex = Number(this.currentImageIndex);\n        }\n        return true;\n    };\n    LightboxComponent.prototype._registerImageLoadingEvent = function () {\n        var _this = this;\n        var preloader = new Image();\n        preloader.onload = function () {\n            _this._onLoadImageSuccess();\n        };\n        var src = this.album[this.currentImageIndex].src;\n        preloader.src = this._sanitizer.sanitize(core_1.SecurityContext.URL, src);\n    };\n    /**\n     * Fire when the image is loaded\n     */\n    LightboxComponent.prototype._onLoadImageSuccess = function () {\n        if (!this.options.disableKeyboardNav) {\n            // unbind keyboard event during transition\n            this._disableKeyboardNav();\n        }\n        var imageHeight;\n        var imageWidth;\n        var maxImageHeight;\n        var maxImageWidth;\n        var windowHeight;\n        var windowWidth;\n        var naturalImageWidth;\n        var naturalImageHeight;\n        // set default width and height of image to be its natural\n        imageWidth = naturalImageWidth = this._imageElem.nativeElement.naturalWidth;\n        imageHeight = naturalImageHeight = this._imageElem.nativeElement.naturalHeight;\n        if (this.options.fitImageInViewPort) {\n            windowWidth = this._windowRef.innerWidth;\n            windowHeight = this._windowRef.innerHeight;\n            maxImageWidth = windowWidth - this._cssValue.containerLeftPadding -\n                this._cssValue.containerRightPadding - this._cssValue.imageBorderWidthLeft -\n                this._cssValue.imageBorderWidthRight - 20;\n            maxImageHeight = windowHeight - this._cssValue.containerTopPadding -\n                this._cssValue.containerTopPadding - this._cssValue.imageBorderWidthTop -\n                this._cssValue.imageBorderWidthBottom - 120;\n            if (naturalImageWidth > maxImageWidth || naturalImageHeight > maxImageHeight) {\n                if ((naturalImageWidth / maxImageWidth) > (naturalImageHeight / maxImageHeight)) {\n                    imageWidth = maxImageWidth;\n                    imageHeight = Math.round(naturalImageHeight / (naturalImageWidth / imageWidth));\n                }\n                else {\n                    imageHeight = maxImageHeight;\n                    imageWidth = Math.round(naturalImageWidth / (naturalImageHeight / imageHeight));\n                }\n            }\n            this._rendererRef.setStyle(this._imageElem.nativeElement, 'width', imageWidth + \"px\");\n            this._rendererRef.setStyle(this._imageElem.nativeElement, 'height', imageHeight + \"px\");\n        }\n        this._sizeContainer(imageWidth, imageHeight);\n        if (this.options.centerVertically) {\n            this._centerVertically(imageWidth, imageHeight);\n        }\n    };\n    LightboxComponent.prototype._centerVertically = function (imageWidth, imageHeight) {\n        var scrollOffset = this._documentRef.documentElement.scrollTop;\n        var windowHeight = this._windowRef.innerHeight;\n        var viewOffset = windowHeight / 2 - imageHeight / 2;\n        var topDistance = scrollOffset + viewOffset;\n        this._rendererRef.setStyle(this._lightboxElem.nativeElement, 'top', topDistance + \"px\");\n    };\n    LightboxComponent.prototype._sizeContainer = function (imageWidth, imageHeight) {\n        var _this = this;\n        var oldWidth = this._outerContainerElem.nativeElement.offsetWidth;\n        var oldHeight = this._outerContainerElem.nativeElement.offsetHeight;\n        var newWidth = imageWidth + this._cssValue.containerRightPadding + this._cssValue.containerLeftPadding +\n            this._cssValue.imageBorderWidthLeft + this._cssValue.imageBorderWidthRight;\n        var newHeight = imageHeight + this._cssValue.containerTopPadding + this._cssValue.containerBottomPadding +\n            this._cssValue.imageBorderWidthTop + this._cssValue.imageBorderWidthBottom;\n        // make sure that distances are large enough for transitionend event to be fired, at least 5px.\n        if (Math.abs(oldWidth - newWidth) + Math.abs(oldHeight - newHeight) > 5) {\n            this._rendererRef.setStyle(this._outerContainerElem.nativeElement, 'width', newWidth + \"px\");\n            this._rendererRef.setStyle(this._outerContainerElem.nativeElement, 'height', newHeight + \"px\");\n            // bind resize event to outer container\n            // use enableTransition to prevent infinite loader\n            if (this.options.enableTransition) {\n                this._event.transitions = [];\n                ['transitionend', 'webkitTransitionEnd', 'oTransitionEnd', 'MSTransitionEnd'].forEach(function (eventName) {\n                    _this._event.transitions.push(_this._rendererRef.listen(_this._outerContainerElem.nativeElement, eventName, function (event) {\n                        if (event.target === event.currentTarget) {\n                            _this._postResize(newWidth, newHeight);\n                        }\n                    }));\n                });\n            }\n            else {\n                this._postResize(newWidth, newHeight);\n            }\n        }\n        else {\n            this._postResize(newWidth, newHeight);\n        }\n    };\n    LightboxComponent.prototype._postResize = function (newWidth, newHeight) {\n        // unbind resize event\n        if (Array.isArray(this._event.transitions)) {\n            this._event.transitions.forEach(function (eventHandler) {\n                eventHandler();\n            });\n            this._event.transitions = [];\n        }\n        this._rendererRef.setStyle(this._dataContainerElem.nativeElement, 'width', newWidth + \"px\");\n        this._showImage();\n    };\n    LightboxComponent.prototype._showImage = function () {\n        this.ui.showReloader = false;\n        this._updateNav();\n        this._updateDetails();\n        if (!this.options.disableKeyboardNav) {\n            this._enableKeyboardNav();\n        }\n    };\n    LightboxComponent.prototype._prepareComponent = function () {\n        var _this = this;\n        // add css3 animation\n        this._addCssAnimation();\n        // position the image according to user's option\n        this._positionLightBox();\n        // update controls visibility on next view generation\n        setTimeout(function () {\n            _this.ui.showZoomButton = _this.options.showZoom;\n            _this.ui.showRotateButton = _this.options.showRotate;\n        }, 0);\n    };\n    LightboxComponent.prototype._positionLightBox = function () {\n        // @see https://stackoverflow.com/questions/3464876/javascript-get-window-x-y-position-for-scroll\n        var top = (this._windowRef.pageYOffset || this._documentRef.documentElement.scrollTop) +\n            this.options.positionFromTop;\n        var left = this._windowRef.pageXOffset || this._documentRef.documentElement.scrollLeft;\n        if (!this.options.centerVertically) {\n            this._rendererRef.setStyle(this._lightboxElem.nativeElement, 'top', top + \"px\");\n        }\n        this._rendererRef.setStyle(this._lightboxElem.nativeElement, 'left', left + \"px\");\n        this._rendererRef.setStyle(this._lightboxElem.nativeElement, 'display', 'block');\n        // disable scrolling of the page while open\n        if (this.options.disableScrolling) {\n            this._rendererRef.addClass(this._documentRef.documentElement, 'lb-disable-scrolling');\n        }\n    };\n    /**\n     * addCssAnimation add css3 classes for animate lightbox\n     */\n    LightboxComponent.prototype._addCssAnimation = function () {\n        var resizeDuration = this.options.resizeDuration;\n        var fadeDuration = this.options.fadeDuration;\n        this._rendererRef.setStyle(this._lightboxElem.nativeElement, '-webkit-animation-duration', fadeDuration + \"s\");\n        this._rendererRef.setStyle(this._lightboxElem.nativeElement, 'animation-duration', fadeDuration + \"s\");\n        this._rendererRef.setStyle(this._outerContainerElem.nativeElement, '-webkit-transition-duration', resizeDuration + \"s\");\n        this._rendererRef.setStyle(this._outerContainerElem.nativeElement, 'transition-duration', resizeDuration + \"s\");\n        this._rendererRef.setStyle(this._dataContainerElem.nativeElement, '-webkit-animation-duration', fadeDuration + \"s\");\n        this._rendererRef.setStyle(this._dataContainerElem.nativeElement, 'animation-duration', fadeDuration + \"s\");\n        this._rendererRef.setStyle(this._imageElem.nativeElement, '-webkit-animation-duration', fadeDuration + \"s\");\n        this._rendererRef.setStyle(this._imageElem.nativeElement, 'animation-duration', fadeDuration + \"s\");\n        this._rendererRef.setStyle(this._captionElem.nativeElement, '-webkit-animation-duration', fadeDuration + \"s\");\n        this._rendererRef.setStyle(this._captionElem.nativeElement, 'animation-duration', fadeDuration + \"s\");\n        this._rendererRef.setStyle(this._numberElem.nativeElement, '-webkit-animation-duration', fadeDuration + \"s\");\n        this._rendererRef.setStyle(this._numberElem.nativeElement, 'animation-duration', fadeDuration + \"s\");\n    };\n    LightboxComponent.prototype._end = function () {\n        var _this = this;\n        this.ui.classList = 'lightbox animation fadeOut';\n        if (this.options.disableScrolling) {\n            this._rendererRef.removeClass(this._documentRef.documentElement, 'lb-disable-scrolling');\n        }\n        setTimeout(function () {\n            _this.cmpRef.destroy();\n        }, this.options.fadeDuration * 1000);\n    };\n    LightboxComponent.prototype._updateDetails = function () {\n        // update the caption\n        if (typeof this.album[this.currentImageIndex].caption !== 'undefined' &&\n            this.album[this.currentImageIndex].caption !== '') {\n            this.ui.showCaption = true;\n        }\n        // update the page number if user choose to do so\n        // does not perform numbering the page if the\n        // array length in album <= 1\n        if (this.album.length > 1 && this.options.showImageNumberLabel) {\n            this.ui.showPageNumber = true;\n            this.content.pageNumber = this._albumLabel();\n        }\n    };\n    LightboxComponent.prototype._albumLabel = function () {\n        // due to {this.currentImageIndex} is set from 0 to {this.album.length} - 1\n        return this.options.albumLabel.replace(/%1/g, Number(this.currentImageIndex + 1)).replace(/%2/g, this.album.length);\n    };\n    LightboxComponent.prototype._changeImage = function (newIndex) {\n        this._resetImage();\n        this.currentImageIndex = newIndex;\n        this._hideImage();\n        this._registerImageLoadingEvent();\n        this._lightboxEvent.broadcastLightboxEvent({ id: lightbox_event_service_1.LIGHTBOX_EVENT.CHANGE_PAGE, data: newIndex });\n    };\n    LightboxComponent.prototype._hideImage = function () {\n        this.ui.showReloader = true;\n        this.ui.showArrowNav = false;\n        this.ui.showLeftArrow = false;\n        this.ui.showRightArrow = false;\n        this.ui.showPageNumber = false;\n        this.ui.showCaption = false;\n    };\n    LightboxComponent.prototype._updateNav = function () {\n        var alwaysShowNav = false;\n        // check to see the browser support touch event\n        try {\n            this._documentRef.createEvent('TouchEvent');\n            alwaysShowNav = (this.options.alwaysShowNavOnTouchDevices) ? true : false;\n        }\n        catch (e) {\n            // noop\n        }\n        // initially show the arrow nav\n        // which is the parent of both left and right nav\n        this._showArrowNav();\n        if (this.album.length > 1) {\n            if (this.options.wrapAround) {\n                if (alwaysShowNav) {\n                    // alternatives this.$lightbox.find('.lb-prev, .lb-next').css('opacity', '1');\n                    this._rendererRef.setStyle(this._leftArrowElem.nativeElement, 'opacity', '1');\n                    this._rendererRef.setStyle(this._rightArrowElem.nativeElement, 'opacity', '1');\n                }\n                // alternatives this.$lightbox.find('.lb-prev, .lb-next').show();\n                this._showLeftArrowNav();\n                this._showRightArrowNav();\n            }\n            else {\n                if (this.currentImageIndex > 0) {\n                    // alternatives this.$lightbox.find('.lb-prev').show();\n                    this._showLeftArrowNav();\n                    if (alwaysShowNav) {\n                        // alternatives this.$lightbox.find('.lb-prev').css('opacity', '1');\n                        this._rendererRef.setStyle(this._leftArrowElem.nativeElement, 'opacity', '1');\n                    }\n                }\n                if (this.currentImageIndex < this.album.length - 1) {\n                    // alternatives this.$lightbox.find('.lb-next').show();\n                    this._showRightArrowNav();\n                    if (alwaysShowNav) {\n                        // alternatives this.$lightbox.find('.lb-next').css('opacity', '1');\n                        this._rendererRef.setStyle(this._rightArrowElem.nativeElement, 'opacity', '1');\n                    }\n                }\n            }\n        }\n    };\n    LightboxComponent.prototype._showLeftArrowNav = function () {\n        this.ui.showLeftArrow = true;\n    };\n    LightboxComponent.prototype._showRightArrowNav = function () {\n        this.ui.showRightArrow = true;\n    };\n    LightboxComponent.prototype._showArrowNav = function () {\n        this.ui.showArrowNav = (this.album.length !== 1);\n    };\n    LightboxComponent.prototype._enableKeyboardNav = function () {\n        var _this = this;\n        this._event.keyup = this._rendererRef.listen('document', 'keyup', function (event) {\n            _this._keyboardAction(event);\n        });\n    };\n    LightboxComponent.prototype._disableKeyboardNav = function () {\n        if (this._event.keyup) {\n            this._event.keyup();\n        }\n    };\n    LightboxComponent.prototype._keyboardAction = function ($event) {\n        var KEYCODE_ESC = 27;\n        var KEYCODE_LEFTARROW = 37;\n        var KEYCODE_RIGHTARROW = 39;\n        var keycode = $event.keyCode;\n        var key = String.fromCharCode(keycode).toLowerCase();\n        if (keycode === KEYCODE_ESC || key.match(/x|o|c/)) {\n            this._lightboxEvent.broadcastLightboxEvent({ id: lightbox_event_service_1.LIGHTBOX_EVENT.CLOSE, data: null });\n        }\n        else if (key === 'p' || keycode === KEYCODE_LEFTARROW) {\n            if (this.currentImageIndex !== 0) {\n                this._changeImage(this.currentImageIndex - 1);\n            }\n            else if (this.options.wrapAround && this.album.length > 1) {\n                this._changeImage(this.album.length - 1);\n            }\n        }\n        else if (key === 'n' || keycode === KEYCODE_RIGHTARROW) {\n            if (this.currentImageIndex !== this.album.length - 1) {\n                this._changeImage(this.currentImageIndex + 1);\n            }\n            else if (this.options.wrapAround && this.album.length > 1) {\n                this._changeImage(0);\n            }\n        }\n    };\n    LightboxComponent.prototype._getCssStyleValue = function (elem, propertyName) {\n        return parseFloat(this._windowRef\n            .getComputedStyle(elem.nativeElement, null)\n            .getPropertyValue(propertyName));\n    };\n    LightboxComponent.prototype._onReceivedEvent = function (event) {\n        switch (event.id) {\n            case lightbox_event_service_1.LIGHTBOX_EVENT.CLOSE:\n                this._end();\n                break;\n            default:\n                break;\n        }\n    };\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Array)\n    ], LightboxComponent.prototype, \"album\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Number)\n    ], LightboxComponent.prototype, \"currentImageIndex\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Object)\n    ], LightboxComponent.prototype, \"options\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Object)\n    ], LightboxComponent.prototype, \"cmpRef\", void 0);\n    __decorate([\n        core_1.ViewChild('outerContainer', { static: false }),\n        __metadata(\"design:type\", core_1.ElementRef)\n    ], LightboxComponent.prototype, \"_outerContainerElem\", void 0);\n    __decorate([\n        core_1.ViewChild('container', { static: false }),\n        __metadata(\"design:type\", core_1.ElementRef)\n    ], LightboxComponent.prototype, \"_containerElem\", void 0);\n    __decorate([\n        core_1.ViewChild('leftArrow', { static: false }),\n        __metadata(\"design:type\", core_1.ElementRef)\n    ], LightboxComponent.prototype, \"_leftArrowElem\", void 0);\n    __decorate([\n        core_1.ViewChild('rightArrow', { static: false }),\n        __metadata(\"design:type\", core_1.ElementRef)\n    ], LightboxComponent.prototype, \"_rightArrowElem\", void 0);\n    __decorate([\n        core_1.ViewChild('navArrow', { static: false }),\n        __metadata(\"design:type\", core_1.ElementRef)\n    ], LightboxComponent.prototype, \"_navArrowElem\", void 0);\n    __decorate([\n        core_1.ViewChild('dataContainer', { static: false }),\n        __metadata(\"design:type\", core_1.ElementRef)\n    ], LightboxComponent.prototype, \"_dataContainerElem\", void 0);\n    __decorate([\n        core_1.ViewChild('image', { static: false }),\n        __metadata(\"design:type\", core_1.ElementRef)\n    ], LightboxComponent.prototype, \"_imageElem\", void 0);\n    __decorate([\n        core_1.ViewChild('caption', { static: false }),\n        __metadata(\"design:type\", core_1.ElementRef)\n    ], LightboxComponent.prototype, \"_captionElem\", void 0);\n    __decorate([\n        core_1.ViewChild('number', { static: false }),\n        __metadata(\"design:type\", core_1.ElementRef)\n    ], LightboxComponent.prototype, \"_numberElem\", void 0);\n    LightboxComponent = __decorate([ __param(6, core_1.Inject(common_1.DOCUMENT)),\n        __metadata(\"design:paramtypes\", [core_1.ElementRef,\n            core_1.Renderer2,\n            lightbox_event_service_1.LightboxEvent,\n            core_1.ElementRef,\n            lightbox_event_service_1.LightboxWindowRef,\n            platform_browser_1.DomSanitizer,\n            Document])\n    ], LightboxComponent);\nLightboxComponent.ɵfac = function LightboxComponent_Factory(t) { return new (t || LightboxComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.LightboxEvent), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.LightboxWindowRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.DomSanitizer), ɵngcc0.ɵɵdirectiveInject(common_1.DOCUMENT)); };\nLightboxComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: LightboxComponent, selectors: [[\"\", \"lb-content\", \"\"]], viewQuery: function LightboxComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c0, true);\n        ɵngcc0.ɵɵviewQuery(_c1, true);\n        ɵngcc0.ɵɵviewQuery(_c2, true);\n        ɵngcc0.ɵɵviewQuery(_c3, true);\n        ɵngcc0.ɵɵviewQuery(_c4, true);\n        ɵngcc0.ɵɵviewQuery(_c5, true);\n        ɵngcc0.ɵɵviewQuery(_c6, true);\n        ɵngcc0.ɵɵviewQuery(_c7, true);\n        ɵngcc0.ɵɵviewQuery(_c8, true);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._outerContainerElem = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._containerElem = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._leftArrowElem = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._rightArrowElem = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._navArrowElem = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._dataContainerElem = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._imageElem = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._captionElem = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._numberElem = _t.first);\n    } }, hostVars: 2, hostBindings: function LightboxComponent_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"click\", function LightboxComponent_click_HostBindingHandler($event) { return ctx.close($event); });\n    } if (rf & 2) {\n        ɵngcc0.ɵɵclassMap(ctx.ui.classList);\n    } }, inputs: { options: \"options\", album: \"album\", currentImageIndex: \"currentImageIndex\", cmpRef: \"cmpRef\" }, attrs: _c9, decls: 32, vars: 13, consts: [[\"id\", \"outerContainer\", 1, \"lb-outerContainer\", \"transition\"], [\"outerContainer\", \"\"], [\"id\", \"container\", 1, \"lb-container\"], [\"container\", \"\"], [\"id\", \"image\", 1, \"lb-image\", \"animation\", \"fadeIn\", 3, \"src\", \"hidden\"], [\"image\", \"\"], [1, \"lb-nav\", 3, \"hidden\"], [\"navArrow\", \"\"], [1, \"lb-prev\", 3, \"hidden\", \"click\"], [\"leftArrow\", \"\"], [1, \"lb-next\", 3, \"hidden\", \"click\"], [\"rightArrow\", \"\"], [1, \"lb-loader\", 3, \"hidden\", \"click\"], [1, \"lb-cancel\"], [1, \"lb-dataContainer\", 3, \"hidden\"], [\"dataContainer\", \"\"], [1, \"lb-data\"], [1, \"lb-details\"], [1, \"lb-caption\", \"animation\", \"fadeIn\", 3, \"hidden\", \"innerHtml\"], [\"caption\", \"\"], [1, \"lb-number\", \"animation\", \"fadeIn\", 3, \"hidden\"], [\"number\", \"\"], [1, \"lb-controlContainer\"], [1, \"lb-closeContainer\"], [1, \"lb-close\", 3, \"click\"], [1, \"lb-turnContainer\", 3, \"hidden\"], [1, \"lb-turnLeft\", 3, \"click\"], [1, \"lb-turnRight\", 3, \"click\"], [1, \"lb-zoomContainer\", 3, \"hidden\"], [1, \"lb-zoomOut\", 3, \"click\"], [1, \"lb-zoomIn\", 3, \"click\"]], template: function LightboxComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0, 1);\n        ɵngcc0.ɵɵelementStart(2, \"div\", 2, 3);\n        ɵngcc0.ɵɵelement(4, \"img\", 4, 5);\n        ɵngcc0.ɵɵelementStart(6, \"div\", 6, 7);\n        ɵngcc0.ɵɵelementStart(8, \"a\", 8, 9);\n        ɵngcc0.ɵɵlistener(\"click\", function LightboxComponent_Template_a_click_8_listener() { return ctx.prevImage(); });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(10, \"a\", 10, 11);\n        ɵngcc0.ɵɵlistener(\"click\", function LightboxComponent_Template_a_click_10_listener() { return ctx.nextImage(); });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(12, \"div\", 12);\n        ɵngcc0.ɵɵlistener(\"click\", function LightboxComponent_Template_div_click_12_listener($event) { return ctx.close($event); });\n        ɵngcc0.ɵɵelement(13, \"a\", 13);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(14, \"div\", 14, 15);\n        ɵngcc0.ɵɵelementStart(16, \"div\", 16);\n        ɵngcc0.ɵɵelementStart(17, \"div\", 17);\n        ɵngcc0.ɵɵelement(18, \"span\", 18, 19);\n        ɵngcc0.ɵɵelementStart(20, \"span\", 20, 21);\n        ɵngcc0.ɵɵtext(22);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(23, \"div\", 22);\n        ɵngcc0.ɵɵelementStart(24, \"div\", 23);\n        ɵngcc0.ɵɵelementStart(25, \"a\", 24);\n        ɵngcc0.ɵɵlistener(\"click\", function LightboxComponent_Template_a_click_25_listener($event) { return ctx.close($event); });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(26, \"div\", 25);\n        ɵngcc0.ɵɵelementStart(27, \"a\", 26);\n        ɵngcc0.ɵɵlistener(\"click\", function LightboxComponent_Template_a_click_27_listener($event) { return ctx.control($event); });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(28, \"a\", 27);\n        ɵngcc0.ɵɵlistener(\"click\", function LightboxComponent_Template_a_click_28_listener($event) { return ctx.control($event); });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(29, \"div\", 28);\n        ɵngcc0.ɵɵelementStart(30, \"a\", 29);\n        ɵngcc0.ɵɵlistener(\"click\", function LightboxComponent_Template_a_click_30_listener($event) { return ctx.control($event); });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(31, \"a\", 30);\n        ɵngcc0.ɵɵlistener(\"click\", function LightboxComponent_Template_a_click_31_listener($event) { return ctx.control($event); });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(4);\n        ɵngcc0.ɵɵproperty(\"src\", ctx.album[ctx.currentImageIndex].src, ɵngcc0.ɵɵsanitizeUrl)(\"hidden\", ctx.ui.showReloader);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"hidden\", !ctx.ui.showArrowNav);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"hidden\", !ctx.ui.showLeftArrow);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"hidden\", !ctx.ui.showRightArrow);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"hidden\", !ctx.ui.showReloader);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"hidden\", ctx.ui.showReloader);\n        ɵngcc0.ɵɵadvance(4);\n        ɵngcc0.ɵɵproperty(\"hidden\", !ctx.ui.showCaption)(\"innerHtml\", ctx.album[ctx.currentImageIndex].caption, ɵngcc0.ɵɵsanitizeHtml);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"hidden\", !ctx.ui.showPageNumber);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵtextInterpolate(ctx.content.pageNumber);\n        ɵngcc0.ɵɵadvance(4);\n        ɵngcc0.ɵɵproperty(\"hidden\", !ctx.ui.showRotateButton);\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵproperty(\"hidden\", !ctx.ui.showZoomButton);\n    } }, encapsulation: 2 });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(LightboxComponent, [{\n        type: core_1.Component,\n        args: [{\n                template: \"\\n    <div class=\\\"lb-outerContainer transition\\\" #outerContainer id=\\\"outerContainer\\\">\\n      <div class=\\\"lb-container\\\" #container id=\\\"container\\\">\\n        <img class=\\\"lb-image\\\"\\n             id=\\\"image\\\"\\n             [src]=\\\"album[currentImageIndex].src\\\"\\n             class=\\\"lb-image animation fadeIn\\\"\\n             [hidden]=\\\"ui.showReloader\\\"\\n             #image>\\n        <div class=\\\"lb-nav\\\" [hidden]=\\\"!ui.showArrowNav\\\" #navArrow>\\n          <a class=\\\"lb-prev\\\" [hidden]=\\\"!ui.showLeftArrow\\\" (click)=\\\"prevImage()\\\" #leftArrow></a>\\n          <a class=\\\"lb-next\\\" [hidden]=\\\"!ui.showRightArrow\\\" (click)=\\\"nextImage()\\\" #rightArrow></a>\\n        </div>\\n        <div class=\\\"lb-loader\\\" [hidden]=\\\"!ui.showReloader\\\" (click)=\\\"close($event)\\\">\\n          <a class=\\\"lb-cancel\\\"></a>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"lb-dataContainer\\\" [hidden]=\\\"ui.showReloader\\\" #dataContainer>\\n      <div class=\\\"lb-data\\\">\\n        <div class=\\\"lb-details\\\">\\n          <span class=\\\"lb-caption animation fadeIn\\\" [hidden]=\\\"!ui.showCaption\\\" [innerHtml]=\\\"album[currentImageIndex].caption\\\" #caption>\\n          </span>\\n          <span class=\\\"lb-number animation fadeIn\\\" [hidden]=\\\"!ui.showPageNumber\\\" #number>{{ content.pageNumber }}</span>\\n        </div>\\n        <div class=\\\"lb-controlContainer\\\">\\n          <div class=\\\"lb-closeContainer\\\">\\n            <a class=\\\"lb-close\\\" (click)=\\\"close($event)\\\"></a>\\n          </div>\\n          <div class=\\\"lb-turnContainer\\\" [hidden]=\\\"!ui.showRotateButton\\\">\\n            <a class=\\\"lb-turnLeft\\\" (click)=\\\"control($event)\\\"></a>\\n            <a class=\\\"lb-turnRight\\\" (click)=\\\"control($event)\\\"></a>\\n          </div>\\n          <div class=\\\"lb-zoomContainer\\\" [hidden]=\\\"!ui.showZoomButton\\\">\\n            <a class=\\\"lb-zoomOut\\\" (click)=\\\"control($event)\\\"></a>\\n            <a class=\\\"lb-zoomIn\\\" (click)=\\\"control($event)\\\"></a>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\",\n                selector: '[lb-content]',\n                host: {\n                    '(click)': 'close($event)',\n                    '[class]': 'ui.classList'\n                }\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.Renderer2 }, { type: ɵngcc1.LightboxEvent }, { type: ɵngcc0.ElementRef }, { type: ɵngcc1.LightboxWindowRef }, { type: ɵngcc2.DomSanitizer }, { type: Document, decorators: [{\n                type: core_1.Inject,\n                args: [common_1.DOCUMENT]\n            }] }]; }, { options: [{\n            type: core_1.Input\n        }], album: [{\n            type: core_1.Input\n        }], currentImageIndex: [{\n            type: core_1.Input\n        }], cmpRef: [{\n            type: core_1.Input\n        }], _outerContainerElem: [{\n            type: core_1.ViewChild,\n            args: ['outerContainer', { static: false }]\n        }], _containerElem: [{\n            type: core_1.ViewChild,\n            args: ['container', { static: false }]\n        }], _leftArrowElem: [{\n            type: core_1.ViewChild,\n            args: ['leftArrow', { static: false }]\n        }], _rightArrowElem: [{\n            type: core_1.ViewChild,\n            args: ['rightArrow', { static: false }]\n        }], _navArrowElem: [{\n            type: core_1.ViewChild,\n            args: ['navArrow', { static: false }]\n        }], _dataContainerElem: [{\n            type: core_1.ViewChild,\n            args: ['dataContainer', { static: false }]\n        }], _imageElem: [{\n            type: core_1.ViewChild,\n            args: ['image', { static: false }]\n        }], _captionElem: [{\n            type: core_1.ViewChild,\n            args: ['caption', { static: false }]\n        }], _numberElem: [{\n            type: core_1.ViewChild,\n            args: ['number', { static: false }]\n        }] }); })();\n    return LightboxComponent;\n}());\nexports.LightboxComponent = LightboxComponent;\n\n//# sourceMappingURL=lightbox.component.js.map","\"use strict\";\nvar ɵngcc0 = require('@angular/core');\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar LightboxConfig = /** @class */ (function () {\n    function LightboxConfig() {\n        this.fadeDuration = 0.7;\n        this.resizeDuration = 0.5;\n        this.fitImageInViewPort = true;\n        this.positionFromTop = 20;\n        this.showImageNumberLabel = false;\n        this.alwaysShowNavOnTouchDevices = false;\n        this.wrapAround = false;\n        this.disableKeyboardNav = false;\n        this.disableScrolling = false;\n        this.centerVertically = false;\n        this.enableTransition = true;\n        this.albumLabel = 'Image %1 of %2';\n        this.showZoom = false;\n        this.showRotate = false;\n        this.containerElementResolver = function (documentRef) { return documentRef.querySelector('body'); };\n    }\n    LightboxConfig = __decorate([ __metadata(\"design:paramtypes\", [])\n    ], LightboxConfig);\nLightboxConfig.ɵfac = function LightboxConfig_Factory(t) { return new (t || LightboxConfig)(); };\nLightboxConfig.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: LightboxConfig, factory: function (t) { return LightboxConfig.ɵfac(t); } });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(LightboxConfig, [{\n        type: core_1.Injectable\n    }], function () { return []; }, null); })();\n    return LightboxConfig;\n}());\nexports.LightboxConfig = LightboxConfig;\n\n//# sourceMappingURL=lightbox-config.service.js.map","\"use strict\";\nvar ɵngcc0 = require('@angular/core');\nvar ɵngcc1 = require('./lightbox-event.service');\n\nvar _c0 = [\"lb-overlay\", \"\"];\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar lightbox_event_service_1 = require(\"./lightbox-event.service\");\nvar common_1 = require(\"@angular/common\");\nvar LightboxOverlayComponent = /** @class */ (function () {\n    function LightboxOverlayComponent(_elemRef, _rendererRef, _lightboxEvent, _documentRef) {\n        var _this = this;\n        this._elemRef = _elemRef;\n        this._rendererRef = _rendererRef;\n        this._lightboxEvent = _lightboxEvent;\n        this._documentRef = _documentRef;\n        this.classList = 'lightboxOverlay animation fadeInOverlay';\n        this._subscription = this._lightboxEvent.lightboxEvent$.subscribe(function (event) { return _this._onReceivedEvent(event); });\n    }\n    LightboxOverlayComponent.prototype.close = function () {\n        // broadcast to itself and all others subscriber including the components\n        this._lightboxEvent.broadcastLightboxEvent({ id: lightbox_event_service_1.LIGHTBOX_EVENT.CLOSE, data: null });\n    };\n    LightboxOverlayComponent.prototype.ngAfterViewInit = function () {\n        var fadeDuration = this.options.fadeDuration;\n        this._rendererRef.setStyle(this._elemRef.nativeElement, '-webkit-animation-duration', fadeDuration + \"s\");\n        this._rendererRef.setStyle(this._elemRef.nativeElement, 'animation-duration', fadeDuration + \"s\");\n        this._sizeOverlay();\n    };\n    LightboxOverlayComponent.prototype.onResize = function () {\n        this._sizeOverlay();\n    };\n    LightboxOverlayComponent.prototype.ngOnDestroy = function () {\n        this._subscription.unsubscribe();\n    };\n    LightboxOverlayComponent.prototype._sizeOverlay = function () {\n        var width = this._getOverlayWidth();\n        var height = this._getOverlayHeight();\n        this._rendererRef.setStyle(this._elemRef.nativeElement, 'width', width + \"px\");\n        this._rendererRef.setStyle(this._elemRef.nativeElement, 'height', height + \"px\");\n    };\n    LightboxOverlayComponent.prototype._onReceivedEvent = function (event) {\n        switch (event.id) {\n            case lightbox_event_service_1.LIGHTBOX_EVENT.CLOSE:\n                this._end();\n                break;\n            default:\n                break;\n        }\n    };\n    LightboxOverlayComponent.prototype._end = function () {\n        var _this = this;\n        this.classList = 'lightboxOverlay animation fadeOutOverlay';\n        // queue self destruction after the animation has finished\n        // FIXME: not sure if there is any way better than this\n        setTimeout(function () {\n            _this.cmpRef.destroy();\n        }, this.options.fadeDuration * 1000);\n    };\n    LightboxOverlayComponent.prototype._getOverlayWidth = function () {\n        return Math.max(this._documentRef.body.scrollWidth, this._documentRef.body.offsetWidth, this._documentRef.documentElement.clientWidth, this._documentRef.documentElement.scrollWidth, this._documentRef.documentElement.offsetWidth);\n    };\n    LightboxOverlayComponent.prototype._getOverlayHeight = function () {\n        return Math.max(this._documentRef.body.scrollHeight, this._documentRef.body.offsetHeight, this._documentRef.documentElement.clientHeight, this._documentRef.documentElement.scrollHeight, this._documentRef.documentElement.offsetHeight);\n    };\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Object)\n    ], LightboxOverlayComponent.prototype, \"options\", void 0);\n    __decorate([\n        core_1.Input(),\n        __metadata(\"design:type\", Object)\n    ], LightboxOverlayComponent.prototype, \"cmpRef\", void 0);\n    __decorate([\n        core_1.HostListener('click'),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", []),\n        __metadata(\"design:returntype\", void 0)\n    ], LightboxOverlayComponent.prototype, \"close\", null);\n    __decorate([\n        core_1.HostListener('window:resize'),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", []),\n        __metadata(\"design:returntype\", void 0)\n    ], LightboxOverlayComponent.prototype, \"onResize\", null);\n    LightboxOverlayComponent = __decorate([ __param(3, core_1.Inject(common_1.DOCUMENT)),\n        __metadata(\"design:paramtypes\", [core_1.ElementRef,\n            core_1.Renderer2,\n            lightbox_event_service_1.LightboxEvent,\n            Document])\n    ], LightboxOverlayComponent);\nLightboxOverlayComponent.ɵfac = function LightboxOverlayComponent_Factory(t) { return new (t || LightboxOverlayComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.LightboxEvent), ɵngcc0.ɵɵdirectiveInject(common_1.DOCUMENT)); };\nLightboxOverlayComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: LightboxOverlayComponent, selectors: [[\"\", \"lb-overlay\", \"\"]], hostVars: 2, hostBindings: function LightboxOverlayComponent_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"click\", function LightboxOverlayComponent_click_HostBindingHandler() { return ctx.close(); })(\"resize\", function LightboxOverlayComponent_resize_HostBindingHandler() { return ctx.onResize(); }, false, ɵngcc0.ɵɵresolveWindow);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵclassMap(ctx.classList);\n    } }, inputs: { options: \"options\", cmpRef: \"cmpRef\" }, attrs: _c0, decls: 0, vars: 0, template: function LightboxOverlayComponent_Template(rf, ctx) { }, encapsulation: 2 });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(LightboxOverlayComponent, [{\n        type: core_1.Component,\n        args: [{\n                selector: '[lb-overlay]',\n                template: '',\n                host: {\n                    '[class]': 'classList'\n                }\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.Renderer2 }, { type: ɵngcc1.LightboxEvent }, { type: Document, decorators: [{\n                type: core_1.Inject,\n                args: [common_1.DOCUMENT]\n            }] }]; }, { close: [{\n            type: core_1.HostListener,\n            args: ['click']\n        }], onResize: [{\n            type: core_1.HostListener,\n            args: ['window:resize']\n        }], options: [{\n            type: core_1.Input\n        }], cmpRef: [{\n            type: core_1.Input\n        }] }); })();\n    return LightboxOverlayComponent;\n}());\nexports.LightboxOverlayComponent = LightboxOverlayComponent;\n\n//# sourceMappingURL=lightbox-overlay.component.js.map","\"use strict\";\nvar ɵngcc0 = require('@angular/core');\nvar ɵngcc1 = require('./lightbox-config.service');\nvar ɵngcc2 = require('./lightbox-event.service');\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar lightbox_component_1 = require(\"./lightbox.component\");\nvar lightbox_config_service_1 = require(\"./lightbox-config.service\");\nvar lightbox_event_service_1 = require(\"./lightbox-event.service\");\nvar lightbox_overlay_component_1 = require(\"./lightbox-overlay.component\");\nvar common_1 = require(\"@angular/common\");\nvar Lightbox = /** @class */ (function () {\n    function Lightbox(_componentFactoryResolver, _injector, _applicationRef, _lightboxConfig, _lightboxEvent, _documentRef) {\n        this._componentFactoryResolver = _componentFactoryResolver;\n        this._injector = _injector;\n        this._applicationRef = _applicationRef;\n        this._lightboxConfig = _lightboxConfig;\n        this._lightboxEvent = _lightboxEvent;\n        this._documentRef = _documentRef;\n    }\n    Lightbox.prototype.open = function (album, curIndex, options) {\n        var _this = this;\n        if (curIndex === void 0) { curIndex = 0; }\n        if (options === void 0) { options = {}; }\n        var overlayComponentRef = this._createComponent(lightbox_overlay_component_1.LightboxOverlayComponent);\n        var componentRef = this._createComponent(lightbox_component_1.LightboxComponent);\n        var newOptions = {};\n        // broadcast open event\n        this._lightboxEvent.broadcastLightboxEvent({ id: lightbox_event_service_1.LIGHTBOX_EVENT.OPEN });\n        Object.assign(newOptions, this._lightboxConfig, options);\n        // attach input to lightbox\n        componentRef.instance.album = album;\n        componentRef.instance.currentImageIndex = curIndex;\n        componentRef.instance.options = newOptions;\n        componentRef.instance.cmpRef = componentRef;\n        // attach input to overlay\n        overlayComponentRef.instance.options = newOptions;\n        overlayComponentRef.instance.cmpRef = overlayComponentRef;\n        // FIXME: not sure why last event is broadcasted (which is CLOSED) and make\n        // lightbox can not be opened the second time.\n        // Need to timeout so that the OPEN event is set before component is initialized\n        setTimeout(function () {\n            _this._applicationRef.attachView(overlayComponentRef.hostView);\n            _this._applicationRef.attachView(componentRef.hostView);\n            overlayComponentRef.onDestroy(function () {\n                _this._applicationRef.detachView(overlayComponentRef.hostView);\n            });\n            componentRef.onDestroy(function () {\n                _this._applicationRef.detachView(componentRef.hostView);\n            });\n            var containerElement = newOptions.containerElementResolver(_this._documentRef);\n            containerElement.appendChild(overlayComponentRef.location.nativeElement);\n            containerElement.appendChild(componentRef.location.nativeElement);\n        });\n    };\n    Lightbox.prototype.close = function () {\n        if (this._lightboxEvent) {\n            this._lightboxEvent.broadcastLightboxEvent({ id: lightbox_event_service_1.LIGHTBOX_EVENT.CLOSE });\n        }\n    };\n    Lightbox.prototype._createComponent = function (ComponentClass) {\n        var factory = this._componentFactoryResolver.resolveComponentFactory(ComponentClass);\n        var component = factory.create(this._injector);\n        return component;\n    };\n    Lightbox = __decorate([ __param(5, core_1.Inject(common_1.DOCUMENT)),\n        __metadata(\"design:paramtypes\", [core_1.ComponentFactoryResolver,\n            core_1.Injector,\n            core_1.ApplicationRef,\n            lightbox_config_service_1.LightboxConfig,\n            lightbox_event_service_1.LightboxEvent,\n            Document])\n    ], Lightbox);\nLightbox.ɵfac = function Lightbox_Factory(t) { return new (t || Lightbox)(ɵngcc0.ɵɵinject(ɵngcc0.ComponentFactoryResolver), ɵngcc0.ɵɵinject(ɵngcc0.Injector), ɵngcc0.ɵɵinject(ɵngcc0.ApplicationRef), ɵngcc0.ɵɵinject(ɵngcc1.LightboxConfig), ɵngcc0.ɵɵinject(ɵngcc2.LightboxEvent), ɵngcc0.ɵɵinject(common_1.DOCUMENT)); };\nLightbox.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: Lightbox, factory: function (t) { return Lightbox.ɵfac(t); } });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(Lightbox, [{\n        type: core_1.Injectable\n    }], function () { return [{ type: ɵngcc0.ComponentFactoryResolver }, { type: ɵngcc0.Injector }, { type: ɵngcc0.ApplicationRef }, { type: ɵngcc1.LightboxConfig }, { type: ɵngcc2.LightboxEvent }, { type: Document, decorators: [{\n                type: core_1.Inject,\n                args: [common_1.DOCUMENT]\n            }] }]; }, null); })();\n    return Lightbox;\n}());\nexports.Lightbox = Lightbox;\n\n//# sourceMappingURL=lightbox.service.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar lightbox_service_1 = require(\"./lightbox.service\");\nexports.Lightbox = lightbox_service_1.Lightbox;\nvar lightbox_config_service_1 = require(\"./lightbox-config.service\");\nexports.LightboxConfig = lightbox_config_service_1.LightboxConfig;\nvar lightbox_event_service_1 = require(\"./lightbox-event.service\");\nexports.LightboxEvent = lightbox_event_service_1.LightboxEvent;\nexports.LIGHTBOX_EVENT = lightbox_event_service_1.LIGHTBOX_EVENT;\nvar lightbox_module_1 = require(\"./lightbox.module\");\nexports.LightboxModule = lightbox_module_1.LightboxModule;\n\n//# sourceMappingURL=index.js.map","import { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { Observable } from '../Observable';\nimport { Subject } from '../Subject';\nexport function groupBy(keySelector, elementSelector, durationSelector, subjectSelector) {\n    return (source) => source.lift(new GroupByOperator(keySelector, elementSelector, durationSelector, subjectSelector));\n}\nclass GroupByOperator {\n    constructor(keySelector, elementSelector, durationSelector, subjectSelector) {\n        this.keySelector = keySelector;\n        this.elementSelector = elementSelector;\n        this.durationSelector = durationSelector;\n        this.subjectSelector = subjectSelector;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new GroupBySubscriber(subscriber, this.keySelector, this.elementSelector, this.durationSelector, this.subjectSelector));\n    }\n}\nclass GroupBySubscriber extends Subscriber {\n    constructor(destination, keySelector, elementSelector, durationSelector, subjectSelector) {\n        super(destination);\n        this.keySelector = keySelector;\n        this.elementSelector = elementSelector;\n        this.durationSelector = durationSelector;\n        this.subjectSelector = subjectSelector;\n        this.groups = null;\n        this.attemptedToUnsubscribe = false;\n        this.count = 0;\n    }\n    _next(value) {\n        let key;\n        try {\n            key = this.keySelector(value);\n        }\n        catch (err) {\n            this.error(err);\n            return;\n        }\n        this._group(value, key);\n    }\n    _group(value, key) {\n        let groups = this.groups;\n        if (!groups) {\n            groups = this.groups = new Map();\n        }\n        let group = groups.get(key);\n        let element;\n        if (this.elementSelector) {\n            try {\n                element = this.elementSelector(value);\n            }\n            catch (err) {\n                this.error(err);\n            }\n        }\n        else {\n            element = value;\n        }\n        if (!group) {\n            group = (this.subjectSelector ? this.subjectSelector() : new Subject());\n            groups.set(key, group);\n            const groupedObservable = new GroupedObservable(key, group, this);\n            this.destination.next(groupedObservable);\n            if (this.durationSelector) {\n                let duration;\n                try {\n                    duration = this.durationSelector(new GroupedObservable(key, group));\n                }\n                catch (err) {\n                    this.error(err);\n                    return;\n                }\n                this.add(duration.subscribe(new GroupDurationSubscriber(key, group, this)));\n            }\n        }\n        if (!group.closed) {\n            group.next(element);\n        }\n    }\n    _error(err) {\n        const groups = this.groups;\n        if (groups) {\n            groups.forEach((group, key) => {\n                group.error(err);\n            });\n            groups.clear();\n        }\n        this.destination.error(err);\n    }\n    _complete() {\n        const groups = this.groups;\n        if (groups) {\n            groups.forEach((group, key) => {\n                group.complete();\n            });\n            groups.clear();\n        }\n        this.destination.complete();\n    }\n    removeGroup(key) {\n        this.groups.delete(key);\n    }\n    unsubscribe() {\n        if (!this.closed) {\n            this.attemptedToUnsubscribe = true;\n            if (this.count === 0) {\n                super.unsubscribe();\n            }\n        }\n    }\n}\nclass GroupDurationSubscriber extends Subscriber {\n    constructor(key, group, parent) {\n        super(group);\n        this.key = key;\n        this.group = group;\n        this.parent = parent;\n    }\n    _next(value) {\n        this.complete();\n    }\n    _unsubscribe() {\n        const { parent, key } = this;\n        this.key = this.parent = null;\n        if (parent) {\n            parent.removeGroup(key);\n        }\n    }\n}\nexport class GroupedObservable extends Observable {\n    constructor(key, groupSubject, refCountSubscription) {\n        super();\n        this.key = key;\n        this.groupSubject = groupSubject;\n        this.refCountSubscription = refCountSubscription;\n    }\n    _subscribe(subscriber) {\n        const subscription = new Subscription();\n        const { refCountSubscription, groupSubject } = this;\n        if (refCountSubscription && !refCountSubscription.closed) {\n            subscription.add(new InnerRefCountSubscription(refCountSubscription));\n        }\n        subscription.add(groupSubject.subscribe(subscriber));\n        return subscription;\n    }\n}\nclass InnerRefCountSubscription extends Subscription {\n    constructor(parent) {\n        super();\n        this.parent = parent;\n        parent.count++;\n    }\n    unsubscribe() {\n        const parent = this.parent;\n        if (!parent.closed && !this.closed) {\n            super.unsubscribe();\n            parent.count -= 1;\n            if (parent.count === 0 && parent.attemptedToUnsubscribe) {\n                parent.unsubscribe();\n            }\n        }\n    }\n}\n//# sourceMappingURL=groupBy.js.map","let nextHandle = 1;\nconst RESOLVED = (() => Promise.resolve())();\nconst activeHandles = {};\nfunction findAndClearHandle(handle) {\n    if (handle in activeHandles) {\n        delete activeHandles[handle];\n        return true;\n    }\n    return false;\n}\nexport const Immediate = {\n    setImmediate(cb) {\n        const handle = nextHandle++;\n        activeHandles[handle] = true;\n        RESOLVED.then(() => findAndClearHandle(handle) && cb());\n        return handle;\n    },\n    clearImmediate(handle) {\n        findAndClearHandle(handle);\n    },\n};\nexport const TestTools = {\n    pending() {\n        return Object.keys(activeHandles).length;\n    }\n};\n//# sourceMappingURL=Immediate.js.map","import { Immediate } from '../util/Immediate';\nimport { AsyncAction } from './AsyncAction';\nexport class AsapAction extends AsyncAction {\n    constructor(scheduler, work) {\n        super(scheduler, work);\n        this.scheduler = scheduler;\n        this.work = work;\n    }\n    requestAsyncId(scheduler, id, delay = 0) {\n        if (delay !== null && delay > 0) {\n            return super.requestAsyncId(scheduler, id, delay);\n        }\n        scheduler.actions.push(this);\n        return scheduler.scheduled || (scheduler.scheduled = Immediate.setImmediate(scheduler.flush.bind(scheduler, null)));\n    }\n    recycleAsyncId(scheduler, id, delay = 0) {\n        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n            return super.recycleAsyncId(scheduler, id, delay);\n        }\n        if (scheduler.actions.length === 0) {\n            Immediate.clearImmediate(id);\n            scheduler.scheduled = undefined;\n        }\n        return undefined;\n    }\n}\n//# sourceMappingURL=AsapAction.js.map","import { AsyncScheduler } from './AsyncScheduler';\nexport class AsapScheduler extends AsyncScheduler {\n    flush(action) {\n        this.active = true;\n        this.scheduled = undefined;\n        const { actions } = this;\n        let error;\n        let index = -1;\n        let count = actions.length;\n        action = action || actions.shift();\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (++index < count && (action = actions.shift()));\n        this.active = false;\n        if (error) {\n            while (++index < count && (action = actions.shift())) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    }\n}\n//# sourceMappingURL=AsapScheduler.js.map","import { AsapAction } from './AsapAction';\nimport { AsapScheduler } from './AsapScheduler';\nexport const asapScheduler = new AsapScheduler(AsapAction);\nexport const asap = asapScheduler;\n//# sourceMappingURL=asap.js.map","import { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\nexport class VirtualTimeScheduler extends AsyncScheduler {\n    constructor(SchedulerAction = VirtualAction, maxFrames = Number.POSITIVE_INFINITY) {\n        super(SchedulerAction, () => this.frame);\n        this.maxFrames = maxFrames;\n        this.frame = 0;\n        this.index = -1;\n    }\n    flush() {\n        const { actions, maxFrames } = this;\n        let error, action;\n        while ((action = actions[0]) && action.delay <= maxFrames) {\n            actions.shift();\n            this.frame = action.delay;\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        }\n        if (error) {\n            while (action = actions.shift()) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    }\n}\nVirtualTimeScheduler.frameTimeFactor = 10;\nexport class VirtualAction extends AsyncAction {\n    constructor(scheduler, work, index = scheduler.index += 1) {\n        super(scheduler, work);\n        this.scheduler = scheduler;\n        this.work = work;\n        this.index = index;\n        this.active = true;\n        this.index = scheduler.index = index;\n    }\n    schedule(state, delay = 0) {\n        if (!this.id) {\n            return super.schedule(state, delay);\n        }\n        this.active = false;\n        const action = new VirtualAction(this.scheduler, this.work);\n        this.add(action);\n        return action.schedule(state, delay);\n    }\n    requestAsyncId(scheduler, id, delay = 0) {\n        this.delay = scheduler.frame + delay;\n        const { actions } = scheduler;\n        actions.push(this);\n        actions.sort(VirtualAction.sortActions);\n        return true;\n    }\n    recycleAsyncId(scheduler, id, delay = 0) {\n        return undefined;\n    }\n    _execute(state, delay) {\n        if (this.active === true) {\n            return super._execute(state, delay);\n        }\n    }\n    static sortActions(a, b) {\n        if (a.delay === b.delay) {\n            if (a.index === b.index) {\n                return 0;\n            }\n            else if (a.index > b.index) {\n                return 1;\n            }\n            else {\n                return -1;\n            }\n        }\n        else if (a.delay > b.delay) {\n            return 1;\n        }\n        else {\n            return -1;\n        }\n    }\n}\n//# sourceMappingURL=VirtualTimeScheduler.js.map","const TimeoutErrorImpl = (() => {\n    function TimeoutErrorImpl() {\n        Error.call(this);\n        this.message = 'Timeout has occurred';\n        this.name = 'TimeoutError';\n        return this;\n    }\n    TimeoutErrorImpl.prototype = Object.create(Error.prototype);\n    return TimeoutErrorImpl;\n})();\nexport const TimeoutError = TimeoutErrorImpl;\n//# sourceMappingURL=TimeoutError.js.map","import { Observable } from '../Observable';\nimport { AsyncSubject } from '../AsyncSubject';\nimport { map } from '../operators/map';\nimport { canReportError } from '../util/canReportError';\nimport { isScheduler } from '../util/isScheduler';\nimport { isArray } from '../util/isArray';\nexport function bindNodeCallback(callbackFunc, resultSelector, scheduler) {\n    if (resultSelector) {\n        if (isScheduler(resultSelector)) {\n            scheduler = resultSelector;\n        }\n        else {\n            return (...args) => bindNodeCallback(callbackFunc, scheduler)(...args).pipe(map(args => isArray(args) ? resultSelector(...args) : resultSelector(args)));\n        }\n    }\n    return function (...args) {\n        const params = {\n            subject: undefined,\n            args,\n            callbackFunc,\n            scheduler,\n            context: this,\n        };\n        return new Observable(subscriber => {\n            const { context } = params;\n            let { subject } = params;\n            if (!scheduler) {\n                if (!subject) {\n                    subject = params.subject = new AsyncSubject();\n                    const handler = (...innerArgs) => {\n                        const err = innerArgs.shift();\n                        if (err) {\n                            subject.error(err);\n                            return;\n                        }\n                        subject.next(innerArgs.length <= 1 ? innerArgs[0] : innerArgs);\n                        subject.complete();\n                    };\n                    try {\n                        callbackFunc.apply(context, [...args, handler]);\n                    }\n                    catch (err) {\n                        if (canReportError(subject)) {\n                            subject.error(err);\n                        }\n                        else {\n                            console.warn(err);\n                        }\n                    }\n                }\n                return subject.subscribe(subscriber);\n            }\n            else {\n                return scheduler.schedule(dispatch, 0, { params, subscriber, context });\n            }\n        });\n    };\n}\nfunction dispatch(state) {\n    const { params, subscriber, context } = state;\n    const { callbackFunc, args, scheduler } = params;\n    let subject = params.subject;\n    if (!subject) {\n        subject = params.subject = new AsyncSubject();\n        const handler = (...innerArgs) => {\n            const err = innerArgs.shift();\n            if (err) {\n                this.add(scheduler.schedule(dispatchError, 0, { err, subject }));\n            }\n            else {\n                const value = innerArgs.length <= 1 ? innerArgs[0] : innerArgs;\n                this.add(scheduler.schedule(dispatchNext, 0, { value, subject }));\n            }\n        };\n        try {\n            callbackFunc.apply(context, [...args, handler]);\n        }\n        catch (err) {\n            this.add(scheduler.schedule(dispatchError, 0, { err, subject }));\n        }\n    }\n    this.add(subject.subscribe(subscriber));\n}\nfunction dispatchNext(arg) {\n    const { value, subject } = arg;\n    subject.next(value);\n    subject.complete();\n}\nfunction dispatchError(arg) {\n    const { err, subject } = arg;\n    subject.error(err);\n}\n//# sourceMappingURL=bindNodeCallback.js.map","import { Observable } from '../Observable';\nimport { identity } from '../util/identity';\nimport { isScheduler } from '../util/isScheduler';\nexport function generate(initialStateOrOptions, condition, iterate, resultSelectorOrObservable, scheduler) {\n    let resultSelector;\n    let initialState;\n    if (arguments.length == 1) {\n        const options = initialStateOrOptions;\n        initialState = options.initialState;\n        condition = options.condition;\n        iterate = options.iterate;\n        resultSelector = options.resultSelector || identity;\n        scheduler = options.scheduler;\n    }\n    else if (resultSelectorOrObservable === undefined || isScheduler(resultSelectorOrObservable)) {\n        initialState = initialStateOrOptions;\n        resultSelector = identity;\n        scheduler = resultSelectorOrObservable;\n    }\n    else {\n        initialState = initialStateOrOptions;\n        resultSelector = resultSelectorOrObservable;\n    }\n    return new Observable(subscriber => {\n        let state = initialState;\n        if (scheduler) {\n            return scheduler.schedule(dispatch, 0, {\n                subscriber,\n                iterate,\n                condition,\n                resultSelector,\n                state\n            });\n        }\n        do {\n            if (condition) {\n                let conditionResult;\n                try {\n                    conditionResult = condition(state);\n                }\n                catch (err) {\n                    subscriber.error(err);\n                    return undefined;\n                }\n                if (!conditionResult) {\n                    subscriber.complete();\n                    break;\n                }\n            }\n            let value;\n            try {\n                value = resultSelector(state);\n            }\n            catch (err) {\n                subscriber.error(err);\n                return undefined;\n            }\n            subscriber.next(value);\n            if (subscriber.closed) {\n                break;\n            }\n            try {\n                state = iterate(state);\n            }\n            catch (err) {\n                subscriber.error(err);\n                return undefined;\n            }\n        } while (true);\n        return undefined;\n    });\n}\nfunction dispatch(state) {\n    const { subscriber, condition } = state;\n    if (subscriber.closed) {\n        return undefined;\n    }\n    if (state.needIterate) {\n        try {\n            state.state = state.iterate(state.state);\n        }\n        catch (err) {\n            subscriber.error(err);\n            return undefined;\n        }\n    }\n    else {\n        state.needIterate = true;\n    }\n    if (condition) {\n        let conditionResult;\n        try {\n            conditionResult = condition(state.state);\n        }\n        catch (err) {\n            subscriber.error(err);\n            return undefined;\n        }\n        if (!conditionResult) {\n            subscriber.complete();\n            return undefined;\n        }\n        if (subscriber.closed) {\n            return undefined;\n        }\n    }\n    let value;\n    try {\n        value = state.resultSelector(state.state);\n    }\n    catch (err) {\n        subscriber.error(err);\n        return undefined;\n    }\n    if (subscriber.closed) {\n        return undefined;\n    }\n    subscriber.next(value);\n    if (subscriber.closed) {\n        return undefined;\n    }\n    return this.schedule(state);\n}\n//# sourceMappingURL=generate.js.map","import { defer } from './defer';\nimport { EMPTY } from './empty';\nexport function iif(condition, trueResult = EMPTY, falseResult = EMPTY) {\n    return defer(() => condition() ? trueResult : falseResult);\n}\n//# sourceMappingURL=iif.js.map","import { Observable } from '../Observable';\nimport { async } from '../scheduler/async';\nimport { isNumeric } from '../util/isNumeric';\nexport function interval(period = 0, scheduler = async) {\n    if (!isNumeric(period) || period < 0) {\n        period = 0;\n    }\n    if (!scheduler || typeof scheduler.schedule !== 'function') {\n        scheduler = async;\n    }\n    return new Observable(subscriber => {\n        subscriber.add(scheduler.schedule(dispatch, period, { subscriber, counter: 0, period }));\n        return subscriber;\n    });\n}\nfunction dispatch(state) {\n    const { subscriber, counter, period } = state;\n    subscriber.next(counter);\n    this.schedule({ subscriber, counter: counter + 1, period }, period);\n}\n//# sourceMappingURL=interval.js.map","import { Observable } from '../Observable';\nimport { noop } from '../util/noop';\nexport const NEVER = new Observable(noop);\nexport function never() {\n    return NEVER;\n}\n//# sourceMappingURL=never.js.map","import { Observable } from '../Observable';\nimport { from } from './from';\nimport { isArray } from '../util/isArray';\nimport { EMPTY } from './empty';\nexport function onErrorResumeNext(...sources) {\n    if (sources.length === 0) {\n        return EMPTY;\n    }\n    const [first, ...remainder] = sources;\n    if (sources.length === 1 && isArray(first)) {\n        return onErrorResumeNext(...first);\n    }\n    return new Observable(subscriber => {\n        const subNext = () => subscriber.add(onErrorResumeNext(...remainder).subscribe(subscriber));\n        return from(first).subscribe({\n            next(value) { subscriber.next(value); },\n            error: subNext,\n            complete: subNext,\n        });\n    });\n}\n//# sourceMappingURL=onErrorResumeNext.js.map","import { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nexport function pairs(obj, scheduler) {\n    if (!scheduler) {\n        return new Observable(subscriber => {\n            const keys = Object.keys(obj);\n            for (let i = 0; i < keys.length && !subscriber.closed; i++) {\n                const key = keys[i];\n                if (obj.hasOwnProperty(key)) {\n                    subscriber.next([key, obj[key]]);\n                }\n            }\n            subscriber.complete();\n        });\n    }\n    else {\n        return new Observable(subscriber => {\n            const keys = Object.keys(obj);\n            const subscription = new Subscription();\n            subscription.add(scheduler.schedule(dispatch, 0, { keys, index: 0, subscriber, subscription, obj }));\n            return subscription;\n        });\n    }\n}\nexport function dispatch(state) {\n    const { keys, index, subscriber, subscription, obj } = state;\n    if (!subscriber.closed) {\n        if (index < keys.length) {\n            const key = keys[index];\n            subscriber.next([key, obj[key]]);\n            subscription.add(this.schedule({ keys, index: index + 1, subscriber, subscription, obj }));\n        }\n        else {\n            subscriber.complete();\n        }\n    }\n}\n//# sourceMappingURL=pairs.js.map","export function not(pred, thisArg) {\n    function notPred() {\n        return !(notPred.pred.apply(notPred.thisArg, arguments));\n    }\n    notPred.pred = pred;\n    notPred.thisArg = thisArg;\n    return notPred;\n}\n//# sourceMappingURL=not.js.map","import { not } from '../util/not';\nimport { subscribeTo } from '../util/subscribeTo';\nimport { filter } from '../operators/filter';\nimport { Observable } from '../Observable';\nexport function partition(source, predicate, thisArg) {\n    return [\n        filter(predicate, thisArg)(new Observable(subscribeTo(source))),\n        filter(not(predicate, thisArg))(new Observable(subscribeTo(source)))\n    ];\n}\n//# sourceMappingURL=partition.js.map","import { isArray } from '../util/isArray';\nimport { fromArray } from './fromArray';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function race(...observables) {\n    if (observables.length === 1) {\n        if (isArray(observables[0])) {\n            observables = observables[0];\n        }\n        else {\n            return observables[0];\n        }\n    }\n    return fromArray(observables, undefined).lift(new RaceOperator());\n}\nexport class RaceOperator {\n    call(subscriber, source) {\n        return source.subscribe(new RaceSubscriber(subscriber));\n    }\n}\nexport class RaceSubscriber extends OuterSubscriber {\n    constructor(destination) {\n        super(destination);\n        this.hasFirst = false;\n        this.observables = [];\n        this.subscriptions = [];\n    }\n    _next(observable) {\n        this.observables.push(observable);\n    }\n    _complete() {\n        const observables = this.observables;\n        const len = observables.length;\n        if (len === 0) {\n            this.destination.complete();\n        }\n        else {\n            for (let i = 0; i < len && !this.hasFirst; i++) {\n                const observable = observables[i];\n                const subscription = subscribeToResult(this, observable, undefined, i);\n                if (this.subscriptions) {\n                    this.subscriptions.push(subscription);\n                }\n                this.add(subscription);\n            }\n            this.observables = null;\n        }\n    }\n    notifyNext(_outerValue, innerValue, outerIndex) {\n        if (!this.hasFirst) {\n            this.hasFirst = true;\n            for (let i = 0; i < this.subscriptions.length; i++) {\n                if (i !== outerIndex) {\n                    let subscription = this.subscriptions[i];\n                    subscription.unsubscribe();\n                    this.remove(subscription);\n                }\n            }\n            this.subscriptions = null;\n        }\n        this.destination.next(innerValue);\n    }\n}\n//# sourceMappingURL=race.js.map","import { Observable } from '../Observable';\nexport function range(start = 0, count, scheduler) {\n    return new Observable(subscriber => {\n        if (count === undefined) {\n            count = start;\n            start = 0;\n        }\n        let index = 0;\n        let current = start;\n        if (scheduler) {\n            return scheduler.schedule(dispatch, 0, {\n                index, count, start, subscriber\n            });\n        }\n        else {\n            do {\n                if (index++ >= count) {\n                    subscriber.complete();\n                    break;\n                }\n                subscriber.next(current++);\n                if (subscriber.closed) {\n                    break;\n                }\n            } while (true);\n        }\n        return undefined;\n    });\n}\nexport function dispatch(state) {\n    const { start, index, count, subscriber } = state;\n    if (index >= count) {\n        subscriber.complete();\n        return;\n    }\n    subscriber.next(start);\n    if (subscriber.closed) {\n        return;\n    }\n    state.index = index + 1;\n    state.start = start + 1;\n    this.schedule(state);\n}\n//# sourceMappingURL=range.js.map","import { Observable } from '../Observable';\nimport { from } from './from';\nimport { EMPTY } from './empty';\nexport function using(resourceFactory, observableFactory) {\n    return new Observable(subscriber => {\n        let resource;\n        try {\n            resource = resourceFactory();\n        }\n        catch (err) {\n            subscriber.error(err);\n            return undefined;\n        }\n        let result;\n        try {\n            result = observableFactory(resource);\n        }\n        catch (err) {\n            subscriber.error(err);\n            return undefined;\n        }\n        const source = result ? from(result) : EMPTY;\n        const subscription = source.subscribe(subscriber);\n        return () => {\n            subscription.unsubscribe();\n            if (resource) {\n                resource.unsubscribe();\n            }\n        };\n    });\n}\n//# sourceMappingURL=using.js.map","import { fromArray } from './fromArray';\nimport { isArray } from '../util/isArray';\nimport { Subscriber } from '../Subscriber';\nimport { iterator as Symbol_iterator } from '../../internal/symbol/iterator';\nimport { SimpleOuterSubscriber, SimpleInnerSubscriber, innerSubscribe } from '../innerSubscribe';\nexport function zip(...observables) {\n    const resultSelector = observables[observables.length - 1];\n    if (typeof resultSelector === 'function') {\n        observables.pop();\n    }\n    return fromArray(observables, undefined).lift(new ZipOperator(resultSelector));\n}\nexport class ZipOperator {\n    constructor(resultSelector) {\n        this.resultSelector = resultSelector;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new ZipSubscriber(subscriber, this.resultSelector));\n    }\n}\nexport class ZipSubscriber extends Subscriber {\n    constructor(destination, resultSelector, values = Object.create(null)) {\n        super(destination);\n        this.resultSelector = resultSelector;\n        this.iterators = [];\n        this.active = 0;\n        this.resultSelector = (typeof resultSelector === 'function') ? resultSelector : undefined;\n    }\n    _next(value) {\n        const iterators = this.iterators;\n        if (isArray(value)) {\n            iterators.push(new StaticArrayIterator(value));\n        }\n        else if (typeof value[Symbol_iterator] === 'function') {\n            iterators.push(new StaticIterator(value[Symbol_iterator]()));\n        }\n        else {\n            iterators.push(new ZipBufferIterator(this.destination, this, value));\n        }\n    }\n    _complete() {\n        const iterators = this.iterators;\n        const len = iterators.length;\n        this.unsubscribe();\n        if (len === 0) {\n            this.destination.complete();\n            return;\n        }\n        this.active = len;\n        for (let i = 0; i < len; i++) {\n            let iterator = iterators[i];\n            if (iterator.stillUnsubscribed) {\n                const destination = this.destination;\n                destination.add(iterator.subscribe());\n            }\n            else {\n                this.active--;\n            }\n        }\n    }\n    notifyInactive() {\n        this.active--;\n        if (this.active === 0) {\n            this.destination.complete();\n        }\n    }\n    checkIterators() {\n        const iterators = this.iterators;\n        const len = iterators.length;\n        const destination = this.destination;\n        for (let i = 0; i < len; i++) {\n            let iterator = iterators[i];\n            if (typeof iterator.hasValue === 'function' && !iterator.hasValue()) {\n                return;\n            }\n        }\n        let shouldComplete = false;\n        const args = [];\n        for (let i = 0; i < len; i++) {\n            let iterator = iterators[i];\n            let result = iterator.next();\n            if (iterator.hasCompleted()) {\n                shouldComplete = true;\n            }\n            if (result.done) {\n                destination.complete();\n                return;\n            }\n            args.push(result.value);\n        }\n        if (this.resultSelector) {\n            this._tryresultSelector(args);\n        }\n        else {\n            destination.next(args);\n        }\n        if (shouldComplete) {\n            destination.complete();\n        }\n    }\n    _tryresultSelector(args) {\n        let result;\n        try {\n            result = this.resultSelector.apply(this, args);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    }\n}\nclass StaticIterator {\n    constructor(iterator) {\n        this.iterator = iterator;\n        this.nextResult = iterator.next();\n    }\n    hasValue() {\n        return true;\n    }\n    next() {\n        const result = this.nextResult;\n        this.nextResult = this.iterator.next();\n        return result;\n    }\n    hasCompleted() {\n        const nextResult = this.nextResult;\n        return Boolean(nextResult && nextResult.done);\n    }\n}\nclass StaticArrayIterator {\n    constructor(array) {\n        this.array = array;\n        this.index = 0;\n        this.length = 0;\n        this.length = array.length;\n    }\n    [Symbol_iterator]() {\n        return this;\n    }\n    next(value) {\n        const i = this.index++;\n        const array = this.array;\n        return i < this.length ? { value: array[i], done: false } : { value: null, done: true };\n    }\n    hasValue() {\n        return this.array.length > this.index;\n    }\n    hasCompleted() {\n        return this.array.length === this.index;\n    }\n}\nclass ZipBufferIterator extends SimpleOuterSubscriber {\n    constructor(destination, parent, observable) {\n        super(destination);\n        this.parent = parent;\n        this.observable = observable;\n        this.stillUnsubscribed = true;\n        this.buffer = [];\n        this.isComplete = false;\n    }\n    [Symbol_iterator]() {\n        return this;\n    }\n    next() {\n        const buffer = this.buffer;\n        if (buffer.length === 0 && this.isComplete) {\n            return { value: null, done: true };\n        }\n        else {\n            return { value: buffer.shift(), done: false };\n        }\n    }\n    hasValue() {\n        return this.buffer.length > 0;\n    }\n    hasCompleted() {\n        return this.buffer.length === 0 && this.isComplete;\n    }\n    notifyComplete() {\n        if (this.buffer.length > 0) {\n            this.isComplete = true;\n            this.parent.notifyInactive();\n        }\n        else {\n            this.destination.complete();\n        }\n    }\n    notifyNext(innerValue) {\n        this.buffer.push(innerValue);\n        this.parent.checkIterators();\n    }\n    subscribe() {\n        return innerSubscribe(this.observable, new SimpleInnerSubscriber(this));\n    }\n}\n//# sourceMappingURL=zip.js.map","\"use strict\";\nvar ɵngcc0 = require('@angular/core');\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar rxjs_1 = require(\"rxjs\");\nvar core_1 = require(\"@angular/core\");\nexports.LIGHTBOX_EVENT = {\n    CHANGE_PAGE: 1,\n    CLOSE: 2,\n    OPEN: 3,\n    ZOOM_IN: 4,\n    ZOOM_OUT: 5,\n    ROTATE_LEFT: 6,\n    ROTATE_RIGHT: 7\n};\nvar LightboxEvent = /** @class */ (function () {\n    function LightboxEvent() {\n        this._lightboxEventSource = new rxjs_1.Subject();\n        this.lightboxEvent$ = this._lightboxEventSource.asObservable();\n    }\n    LightboxEvent.prototype.broadcastLightboxEvent = function (event) {\n        this._lightboxEventSource.next(event);\n    };\n    LightboxEvent = __decorate([ __metadata(\"design:paramtypes\", [])\n    ], LightboxEvent);\nLightboxEvent.ɵfac = function LightboxEvent_Factory(t) { return new (t || LightboxEvent)(); };\nLightboxEvent.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: LightboxEvent, factory: function (t) { return LightboxEvent.ɵfac(t); } });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(LightboxEvent, [{\n        type: core_1.Injectable\n    }], function () { return []; }, null); })();\n    return LightboxEvent;\n}());\nexports.LightboxEvent = LightboxEvent;\nfunction getWindow() {\n    return window;\n}\nvar LightboxWindowRef = /** @class */ (function () {\n    function LightboxWindowRef() {\n    }\n    Object.defineProperty(LightboxWindowRef.prototype, \"nativeWindow\", {\n        get: function () {\n            return getWindow();\n        },\n        enumerable: true,\n        configurable: true\n    });\nLightboxWindowRef.ɵfac = function LightboxWindowRef_Factory(t) { return new (t || LightboxWindowRef)(); };\nLightboxWindowRef.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: LightboxWindowRef, factory: function (t) { return LightboxWindowRef.ɵfac(t); } });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(LightboxWindowRef, [{\n        type: core_1.Injectable\n    }], function () { return []; }, null); })();\n    return LightboxWindowRef;\n}());\nexports.LightboxWindowRef = LightboxWindowRef;\n\n//# sourceMappingURL=lightbox-event.service.js.map"],"sourceRoot":"webpack:///"}