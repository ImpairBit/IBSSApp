{"version":3,"sources":["./src/app/view/view-routing.module.ts","./src/app/view/view.component.ts","./src/app/view/view.component.html","./src/app/view/view.module.ts"],"names":["routes","path","component","ViewComponent","route","ws","router","isLoading","config","wiz_config","_viewUrl","this","getBaseURL","RESOURCES","profileName","isView","isMock","url","toLowerCase","includes","snapshot","paramMap","get","profileData","getContent","navigate","toggleLoader","viewType","getViewData","subscribe","res","error","responseCode","err","ViewRoutingModule","forChild","ViewModule"],"mappings":"kPAKA,MAAMA,EAAiB,CAAC,CAAEC,KAAM,GAAIC,UCO7B,M,MAAMC,EAUX,YACUC,EACAC,EACAC,GAFA,KAAAF,QACA,KAAAC,KACA,KAAAC,SAXV,KAAAC,WAAY,EACZ,KAAAC,OAAwB,IACxB,KAAAC,WAAmC,IACnC,KAAAC,SAAWC,KAAKH,OAAOI,WAAW,IAAIC,WAAa,SACnD,KAAAC,YAAc,GAEd,KAAAC,QAAS,EACT,KAAAC,QAAS,EAMPL,KAAKH,OAAOO,QAAS,EACrBJ,KAAKK,OAASL,KAAKL,OAAOW,IAAIC,cAAcC,SAAS,gBAGvD,WAIE,GAFAR,KAAKG,YADeH,KAAKP,MAAMgB,SAASC,SACTC,IAAI,MAE9BX,KAAKK,OAoBNL,KAAKY,YAAaZ,KAAKF,WAAWe,WAAWb,KAAKG,aAClDH,KAAKJ,WAAY,EAEZI,KAAKY,aACRZ,KAAKL,OAAOmB,SAAS,CAAC,aAxBV,CAChBd,KAAKH,OAAOkB,cAAa,GACzB,IAAIC,EAAWhB,KAAKL,OAAOW,IAAIC,cAAcC,SAAS,WAAa,EAAI,EAEvER,KAAKN,GAAGuB,YAAYjB,KAAKG,YAAwB,IAAXa,GACnCE,UAAWC,IACNA,EAAIC,OAAoC,IAA3BD,EAAIC,MAAMC,cACzBrB,KAAKY,YAAcO,EAAIP,YAAcO,EAAIP,YAAc,KACvDZ,KAAKJ,WAAY,IAEjBI,KAAKJ,WAAY,EACjBI,KAAKL,OAAOmB,SAAS,CAAC,UAExBd,KAAKH,OAAOkB,cAAa,IACvBO,IACFtB,KAAKJ,WAAY,EACjBI,KAAKL,OAAOmB,SAAS,CAAC,SACtBd,KAAKH,OAAOkB,cAAa,O,6CAxCtBvB,GAAa,oH,mDAAbA,EAAa,+HCZ1B,gD,KAAiB,wDAA4B,wBAA5B,CAA4B,kBAA5B,CAA4B,qB,kCDYtC,KDDA,Y,MAAM+B,G,yDAAAA,I,+EAAAA,IAAiB,SAHnB,CAAC,IAAaC,SAASnC,IACtB,O,GAEL,G,gBGKA,Y,MAAMoC,G,yDAAAA,I,+EAAAA,IAAU,SANZ,CACP,eACA,EACA,Q,GAGG","file":"view-view-module.7b493ae9044b22dec475.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ViewComponent } from './view.component';\r\n\r\nconst routes: Routes = [{ path: '', component: ViewComponent }];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ViewRoutingModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { CONFIG } from '../config';\r\nimport { API } from '../enums/api.enum';\r\nimport { WIZARD_CONFIG } from '../wizard/wizard.config';\r\nimport { WizardService } from '../wizard/wizard.service';\r\n\r\n@Component({\r\n  selector: 'app-view',\r\n  templateUrl: './view.component.html',\r\n  styleUrls: ['./view.component.scss']\r\n})\r\nexport class ViewComponent implements OnInit {\r\n\r\n  isLoading = true;\r\n  config: typeof CONFIG = CONFIG;\r\n  wiz_config: typeof WIZARD_CONFIG = WIZARD_CONFIG;\r\n  _viewUrl = this.config.getBaseURL(API.RESOURCES) + \"/view/\";\r\n  profileName = \"\";\r\n  profileData: any;\r\n  isView = true;\r\n  isMock = false;\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private ws: WizardService,\r\n    private router: Router\r\n  ) { \r\n    this.config.isView = true;\r\n    this.isMock = this.router.url.toLowerCase().includes('templateview');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    const routeParams = this.route.snapshot.paramMap;\r\n    this.profileName = routeParams.get('Id') as string;\r\n\r\n    if (!this.isMock) {\r\n      this.config.toggleLoader(true);\r\n      let viewType = this.router.url.toLowerCase().includes('preview')?  1 : 2;\r\n\r\n      this.ws.getViewData(this.profileName, viewType===1 )\r\n        .subscribe((res: any) => {\r\n          if (res.error && res.error.responseCode === 0) {\r\n            this.profileData = res.profileData ? res.profileData : null;\r\n            this.isLoading = false;\r\n          } else {\r\n            this.isLoading = false;\r\n            this.router.navigate(['/404']);\r\n          }\r\n          this.config.toggleLoader(false);\r\n        }, (err: any) => {\r\n          this.isLoading = false;\r\n          this.router.navigate(['/404']);\r\n          this.config.toggleLoader(false);\r\n        });\r\n      } else {\r\n        this.profileData= this.wiz_config.getContent(this.profileName);\r\n        this.isLoading = false;\r\n\r\n        if (!this.profileData) {\r\n          this.router.navigate(['/404']);\r\n        }\r\n    }\r\n  }\r\n\r\n}\r\n","<ibss-web-layout [inputPayload]=\"profileData\" [isLoading]=\"isLoading\" [isView]=\"isView\" [isDummy]=\"isMock\"></ibss-web-layout>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { ViewRoutingModule } from './view-routing.module';\r\nimport { ViewComponent } from './view.component';\r\nimport { LayoutModule } from '../layouts/web/layout/layout.module';\r\n\r\n\r\n@NgModule({\r\n  declarations: [ViewComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ViewRoutingModule,\r\n    LayoutModule\r\n  ]\r\n})\r\nexport class ViewModule { }\r\n"],"sourceRoot":"webpack:///"}