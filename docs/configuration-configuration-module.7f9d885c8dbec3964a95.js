(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{xjgD:function(e,t,n){"use strict";n.r(t),n.d(t,"ConfigurationModule",function(){return k});var o=n("ofXK"),i=n("tyNb"),r=n("Vx+w"),l=n("XcLA"),a=n("jGZH"),g=n("fXoL"),d=n("JPLv"),c=n("w5Ra"),s=n("5eHb"),m=n("S8xs"),f=n("45CB"),u=n("fB2i"),p=n("3Pt+"),b=n("zwmB");function C(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",23),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).onDeleteImage("logo")}),g["\u0275\u0275elementStart"](1,"span",24),g["\u0275\u0275text"](2,"delete"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}}function S(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",23),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).onDeleteImage("login.backgroundImage")}),g["\u0275\u0275elementStart"](1,"span",24),g["\u0275\u0275text"](2,"delete"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}}function x(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",21),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).onAction("PUBLISH",!1)}),g["\u0275\u0275text"](1,"Publish"),g["\u0275\u0275elementEnd"]()}}function h(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",6),g["\u0275\u0275elementStart"](1,"div",7),g["\u0275\u0275elementStart"](2,"label",8),g["\u0275\u0275text"](3,"Logo "),g["\u0275\u0275template"](4,C,3,0,"button",9),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"div"),g["\u0275\u0275elementStart"](6,"ibss-file-upload",10),g["\u0275\u0275listener"]("onSelectFile",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().onSelectFile(t,"logo")}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"div",7),g["\u0275\u0275elementStart"](8,"label",8),g["\u0275\u0275text"](9,"Login Page - Background Image "),g["\u0275\u0275template"](10,S,3,0,"button",9),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"div"),g["\u0275\u0275elementStart"](12,"ibss-file-upload",10),g["\u0275\u0275listener"]("onSelectFile",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().onSelectFile(t,"login.backgroundImage")}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](13,"div",7),g["\u0275\u0275elementStart"](14,"label",11),g["\u0275\u0275text"](15,"Login Page - Welcome text"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](16,"editor",12),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().brandingConfig.login.text=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](17,"div",7),g["\u0275\u0275elementStart"](18,"label",11),g["\u0275\u0275text"](19,"Colors - Login Page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](20,"div",13),g["\u0275\u0275elementStart"](21,"div",14),g["\u0275\u0275elementStart"](22,"div",15),g["\u0275\u0275elementStart"](23,"div",16),g["\u0275\u0275elementStart"](24,"span",17),g["\u0275\u0275text"](25,"Background"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](26,"ngx-colors",18),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().brandingConfig.login.bgcolor=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](27,"div",15),g["\u0275\u0275elementStart"](28,"div",16),g["\u0275\u0275elementStart"](29,"span",17),g["\u0275\u0275text"](30,"Text"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](31,"ngx-colors",18),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().brandingConfig.login.textColor=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](32,"div",15),g["\u0275\u0275elementStart"](33,"div",16),g["\u0275\u0275elementStart"](34,"span",17),g["\u0275\u0275text"](35,"Label"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](36,"ngx-colors",18),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().brandingConfig.login.labelColor=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](37,"div",15),g["\u0275\u0275elementStart"](38,"div",16),g["\u0275\u0275elementStart"](39,"span",17),g["\u0275\u0275text"](40,"Button"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](41,"ngx-colors",18),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().brandingConfig.login.buttonColor=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](42,"div",15),g["\u0275\u0275elementStart"](43,"div",16),g["\u0275\u0275elementStart"](44,"span",17),g["\u0275\u0275text"](45,"Button Text"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](46,"ngx-colors",18),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().brandingConfig.login.buttonTextColor=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](47,"div",7),g["\u0275\u0275elementStart"](48,"label",11),g["\u0275\u0275text"](49,"Colors - Menu"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](50,"div",13),g["\u0275\u0275elementStart"](51,"div",14),g["\u0275\u0275elementStart"](52,"div",15),g["\u0275\u0275elementStart"](53,"div",16),g["\u0275\u0275elementStart"](54,"span",17),g["\u0275\u0275text"](55,"Background"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](56,"ngx-colors",18),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().brandingConfig.menu.bgcolor=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](57,"div",15),g["\u0275\u0275elementStart"](58,"div",16),g["\u0275\u0275elementStart"](59,"span",17),g["\u0275\u0275text"](60,"Text"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](61,"ngx-colors",18),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().brandingConfig.menu.textColor=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](62,"div",15),g["\u0275\u0275elementStart"](63,"div",16),g["\u0275\u0275elementStart"](64,"span",17),g["\u0275\u0275text"](65,"Active Menu - Background"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](66,"ngx-colors",18),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().brandingConfig.menu.activeBgColor=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](67,"div",15),g["\u0275\u0275elementStart"](68,"div",16),g["\u0275\u0275elementStart"](69,"span",17),g["\u0275\u0275text"](70,"Active Menu - Text"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](71,"ngx-colors",18),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().brandingConfig.menu.activeTextColor=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](72,"div",19),g["\u0275\u0275elementStart"](73,"a",20),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().onAction("MODIFY",!0)}),g["\u0275\u0275text"](74,"Preview"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](75,"button",21),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().onAction("MODIFY",!1)}),g["\u0275\u0275text"](76,"Save"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](77,x,2,0,"button",22),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf",null==e.brandingConfig?null:e.brandingConfig.logo),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("fileConfig",e.fileConfig),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf",null==e.brandingConfig?null:e.brandingConfig.backgroundImage),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("fileConfig",e.bgFileConfig),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("apiKey",e.config.tinyMCEKey)("ngModel",e.brandingConfig.login.text),g["\u0275\u0275advance"](10),g["\u0275\u0275property"]("ngModel",e.brandingConfig.login.bgcolor),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("ngModel",e.brandingConfig.login.textColor),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("ngModel",e.brandingConfig.login.labelColor),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("ngModel",e.brandingConfig.login.buttonColor),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("ngModel",e.brandingConfig.login.buttonTextColor),g["\u0275\u0275advance"](10),g["\u0275\u0275property"]("ngModel",e.brandingConfig.menu.bgcolor),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("ngModel",e.brandingConfig.menu.textColor),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("ngModel",e.brandingConfig.menu.activeBgColor),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("ngModel",e.brandingConfig.menu.activeTextColor),g["\u0275\u0275advance"](6),g["\u0275\u0275property"]("ngIf",e.canSubmit)}}const v=[{path:"",component:(()=>{class e{constructor(e,t,n,o,i){this.route=e,this.configService=t,this.ws=n,this.router=o,this.toastr=i,this.config=r.a,this.wiz_config=a.b,this.item=new a.a,this.profileName=null,this.profileData=null,this.brandingConfig=null,this.editItem={},this.canSubmit=!1,this.fileConfig={sectionName:"branding",imageName:"branding1",isUnique:!0,customClass:"branding-comp",cropper:{aspectRatio:1,maintainAspectRatio:!0}},this.bgFileConfig={sectionName:"branding",imageName:"branding1",isUnique:!0,customClass:"branding-comp",cropper:{aspectRatio:16/9,maintainAspectRatio:!0}},this.profileName=this.route.snapshot.paramMap.get("Id"),console.log("profileName",this.profileName)}ngOnInit(){this.config.toggleLoader(!0),this.getProfileData()}getProfileData(){this.ws.getViewData(this.profileName).subscribe(e=>{this.profileData=e.profileData?e.profileData:null,this.ws.setProfileData(this.profileData),this.getTheme()},e=>{console.log("getTheme - error:",e)})}getTheme(){this.configService.getTheme(this.profileName,l.a.draft).subscribe(e=>{console.log("getTheme - success : ",e),e.error&&0===e.error.responseCode?(this.canSubmit=!0,this.brandingConfig=e.profileData):this.brandingConfig={logo:"http://impairbit.com/ibss_logo_big.png",login:{text:"Welcome to Impairbit",backgroundImage:"https://cdn.wallpapersafari.com/59/94/g7KCNA.jpg",bgcolor:"#0f87c2",textColor:"#ea4335",labelColor:"#34a853",buttonColor:"#fbbc05",buttonTextColor:"#fff"},menu:{bgcolor:"#0f87c2",textColor:"#fff",activeBgColor:"#fff",activeTextColor:"#0f87c2"}},localStorage.setItem("themeConfig",JSON.stringify(this.brandingConfig)),this.config.toggleLoader(!1)},e=>{console.log("getTheme - error:",e)})}onSelectFile(e,t){console.log("onSelectFile",e);let n=JSON.parse(JSON.stringify(this.brandingConfig));if(n[t]&&-1!=n[t].indexOf(this.config.siteURL)){const e=JSON.parse(JSON.stringify(n[t])).split("/").pop();this.ws.deleteFile({sectionName:"header",fileNames:[e],filePath:n[t]}).subscribe(e=>{console.log("deleteFile-success",e)},e=>{console.log("deleteFile-failure",e)})}n[t]=e,this.brandingConfig=JSON.parse(JSON.stringify(n))}onDeleteImage(e){let t=JSON.parse(JSON.stringify(this.brandingConfig));if(t[e]&&-1!=t[e].indexOf(this.config.siteURL)){console.log("Deleting",t[e]);const n=JSON.parse(JSON.stringify(t[e])).split("/").pop();this.ws.deleteFile({sectionName:"header",fileNames:[n],filePath:t[e]}).subscribe(e=>{console.log("deleteFile-success",e)},e=>{console.log("deleteFile-failure",e)})}t[e]=null,this.brandingConfig=JSON.parse(JSON.stringify(t))}onAction(e,t=!1){console.log(e,t),this.config.toggleLoader(!0),this.configService.setTheme({serviceData:{profileData:this.brandingConfig,profileName:this.profileName,profileType:this.profileData.type,requestType:e}}).subscribe(n=>{if(this.config.toggleLoader(!1),this.toastr.success("MODIFY"===e?"Saved Successfully":"Published Successfully"),t){const e=this.router.serializeUrl(this.router.createUrlTree(["/preview/login/",this.profileName]));window.open(e,"_blank")}},e=>{this.config.toggleLoader(!1),this.toastr.error("Oops there was some issue in saving the data. Please try again after sometime! - ")})}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](i.a),g["\u0275\u0275directiveInject"](d.a),g["\u0275\u0275directiveInject"](c.a),g["\u0275\u0275directiveInject"](i.c),g["\u0275\u0275directiveInject"](s.b))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["ibss-configuration"]],decls:11,vars:4,consts:[[1,"container","configurationn-page","mt-5"],[3,"isAnimated","closeOthers"],[1,"ti-accordion","p-0"],["accordion-heading","","type","button",1,"btn","btn-link","btn-block","clearfix"],[1,"pull-left","float-left"],["class","col-md-12 col-sm-12",4,"ngIf"],[1,"col-md-12","col-sm-12"],[1,"form-group"],[1,"w-100"],["class","btn btn-danger float-right btn-small",3,"click",4,"ngIf"],[3,"fileConfig","onSelectFile"],["for","title"],[3,"apiKey","ngModel","ngModelChange"],[1,"color-palette-list"],[1,"row"],[1,"col-md-3","col-xl-3"],[1,"cp"],[1,"title"],["ngx-colors-trigger","","acceptLabel","Select",3,"ngModel","ngModelChange"],[1,"clearfix"],["type","button",1,"btn","btn-primary","btn-sm","mx-1","float-right",3,"click"],["type","button","target","_blank",1,"btn","btn-primary","btn-sm","mx-1","float-right",3,"click"],["type","button","class","btn btn-primary btn-sm mx-1 float-right","target","_blank",3,"click",4,"ngIf"],[1,"btn","btn-danger","float-right","btn-small",3,"click"],[1,"material-icons-outlined"]],template:function(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"div",0),g["\u0275\u0275elementStart"](1,"h5"),g["\u0275\u0275text"](2),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](3,"br"),g["\u0275\u0275elementStart"](4,"div"),g["\u0275\u0275elementStart"](5,"accordion",1),g["\u0275\u0275elementStart"](6,"accordion-group",2),g["\u0275\u0275elementStart"](7,"button",3),g["\u0275\u0275elementStart"](8,"div",4),g["\u0275\u0275text"](9,"Branding"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](10,h,78,16,"div",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",t.profileName," - Configuration"),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("isAnimated",!0)("closeOthers",!0),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("ngIf",t.brandingConfig))},directives:[m.a,m.c,o.NgIf,f.a,u.a,p.q,p.t,b.a,b.c],styles:[".ti-accordion[_ngcontent-%COMP%]{border-radius:0;margin-bottom:10px}.ti-accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:0}.ti-accordion[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border:1px solid #ddd}.ti-accordion[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:0;background-color:#ede7f6;border-color:#ede7f6}.ti-accordion[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]:first-child{border-radius:0}.ti-accordion[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{text-decoration:none}"]}),e})()}];let E=(()=>{class e{}return e.\u0275mod=g["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=g["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.g.forChild(v)],i.g]}),e})();var y=n("P/1d"),w=n("gfTr"),M=n("rIor"),N=n("X9o6"),O=n("K3ix"),I=n("OL73");let k=(()=>{class e{}return e.\u0275mod=g["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=g["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[c.a,N.a],imports:[[o.CommonModule,O.c.forRoot(),E,m.b.forRoot(),p.k,p.y,w.c,y.a,M.b,b.b,I.a,u.b]]}),e})()}}]);
//# sourceMappingURL=configuration-configuration-module.7f9d885c8dbec3964a95.js.map