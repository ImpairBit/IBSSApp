(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{w5Ra:function(e,t,p){"use strict";p.d(t,"a",function(){return r});var a=p("tk/3"),n=p("Vx+w"),o=p("zDcW"),i=p("LRne"),s=p("fXoL");let r=(()=>{class e{constructor(e){this.http=e,this.config=n.a,this._profileUrl=this.config.getBaseURL(o.a.RESOURCES)+"/profile/",this._saveUrl=this.config.getBaseURL(o.a.RESOURCES)+"/profile/write",this._viewUrl=this.config.getBaseURL(o.a.RESOURCES)+"/profile/view/1/",this._previewUrl=this.config.getBaseURL(o.a.RESOURCES)+"/profile/preview/1/",this._saveFileUrl=this.config.getBaseURL(o.a.RESOURCES)+"/profile/file/add",this._deleteFileUrl=this.config.getBaseURL(o.a.RESOURCES)+"/profile/file/delete",this._googleFontsUrl="https://www.googleapis.com/webfonts/v1/webfonts?sort=popularity",this._userSearchUrl=this.config.getBaseURL(o.a.RESOURCES)+"/user/search/",this.modifyIndex=-1}setProfileData(e){this.profile=e}getProfileData(){return this.profile}save(e){let t=localStorage.getItem("ibssApp");t&&(t=JSON.parse(t));let p=new a.c;return p=p.append("Accept","application/json"),p=p.append("Content-Type","application/json"),p=p.append("Authorization","Bearer "+t.token.access_token),p=p.append("X-HTTP-Method","POST"),this.http.post(this._saveUrl,e,{headers:p})}getViewData(e,t=!1){let p=localStorage.getItem("ibssApp");p&&(p=JSON.parse(p));let n=new a.c;return n=n.append("Accept","application/json"),n=n.append("Content-Type","application/json"),t&&(n=n.append("Authorization","Bearer "+p.token.access_token)),n=n.append("X-HTTP-Method","GET"),this.http.get((t?this._previewUrl:this._viewUrl)+e,{headers:n})}getGoogleFonts(){let e=new a.c;return e=e.append("Accept","application/json"),e=e.append("Content-Type","application/json"),e=e.append("X-HTTP-Method","GET"),this.http.get(this._googleFontsUrl,{headers:e})}get(e){let t=localStorage.getItem("ibssApp");t&&(t=JSON.parse(t));let p=new a.c;return p=p.append("Accept","application/json"),p=p.append("Content-Type","application/json"),p=p.append("Authorization","Bearer "+t.token.access_token),p=p.append("X-HTTP-Method","GET"),this.http.get(this._profileUrl+e,{headers:p})}searchUser(e){let t=localStorage.getItem("ibssApp");t&&(t=JSON.parse(t));let p=new a.c;return p=p.append("Accept","application/json"),p=p.append("Content-Type","application/json"),p=p.append("Authorization","Bearer "+t.token.access_token),p=p.append("X-HTTP-Method","GET"),this.http.get(this._userSearchUrl+e,{headers:p})}assignUser(e){let t=localStorage.getItem("ibssApp");t&&(t=JSON.parse(t));let p=new a.c;return p=p.append("Accept","application/json"),p=p.append("Content-Type","application/json"),p=p.append("Authorization","Bearer "+t.token.access_token),p=p.append("X-HTTP-Method","PUT"),this.http.put(this._profileUrl+"assign/",e,{headers:p})}saveFile(e){let t=localStorage.getItem("ibssApp");t&&(t=JSON.parse(t));let p=new a.c;return p=p.append("Accept","application/json"),p=p.append("Content-Type","application/json"),p=p.append("Authorization","Bearer "+t.token.access_token),p=p.append("X-HTTP-Method","POST"),this.http.post(this._saveFileUrl,e,{headers:p})}deleteFile(e){let t=localStorage.getItem("ibssApp");t&&(t=JSON.parse(t));const p=this.config.assetsPath+this.profile.type+"/"+this.profile.title+"/";if(-1===e.filePath.toLowerCase().indexOf(p.toLowerCase())){let e=new a.c;e=e.append("Accept","application/json"),e=e.append("Content-Type","application/json"),e=e.append("Authorization","Bearer "+t.token.access_token),e=e.append("X-HTTP-Method","DELETE")}return Object(i.a)({})}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](a.a))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);