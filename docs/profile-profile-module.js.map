{"version":3,"sources":["./src/app/profile/profile.component.html","./src/app/profile/profile-routing.module.ts","./src/app/profile/profile.component.ts","./src/app/profile/profile.module.ts"],"names":["routes","path","component","ProfileComponent","authService","toastr","config","canChangePassword","password","new","confirm","isOpen","console","log","this","trim","length","payload","login","email","toggleLoader","changePassword","subscribe","res","error","responseCode","success","businessValidation","i","errorDesc","dataValidation","ProfileRoutingModule","forChild","ProfileModule"],"mappings":"4QAMM,yCACE,2CAA+C,sCAAU,8BACzD,yCACE,sCAMF,8BACF,+B,4CAP8E,4I,yBAQ9E,yCACE,2CAA+C,uCAAW,8BAC1D,yCACE,sCAOF,8BACF,+B,4CAPM,6I,yBAQN,yCACE,2CAA+C,qCAAS,8BACxD,yCACE,uCAMF,8BACF,+B,4CAP6E,2I,yBAS7E,yCACE,2CAA+C,oCAAQ,8BACvD,yCACE,uCAMF,8BACF,+B,4CAP4E,0I,yBAS5E,yCACE,2CAA+C,wCAAY,8BAC3D,yCACE,uCAOF,8BACF,+B,4CAPM,yI,kEASN,yCACE,2CAA+C,2CAAe,8BAC9D,yCACE,uCACA,0CACE,6CAA8C,oIAA2B,IACvE,2CAAsC,gCAAI,8BAC5C,8BACF,8BACF,8BACF,+B,kEAGA,0CACI,sCAAI,2CAAe,8BACnB,iCACA,0CACE,4CAAwB,wCAAY,8BACpC,4CAAwG,6IAAxG,8BACF,8BACA,iCACA,0CACE,6CAAwB,6CAAgB,8BACxC,6CAAkH,iJAAlH,8BACF,8BACA,0DACA,kCACA,8CAA6D,wIAA6B,mCAAM,8BAChG,8CAA0G,gIAAqB,mCAAM,8BACzI,8B,+CAX8G,gFAKU,oFAE3F,iFAGoC,uGCzFvE,MAAMA,EAAiB,CAAC,CAAEC,KAAM,GAAIC,UCK7B,M,MAAMC,EAUX,YACUC,EACAC,GADA,KAAAD,cACA,KAAAC,SAVV,KAAAC,OAAwB,IACxB,KAAAC,mBAA4B,EAC5B,KAAAC,SAAe,CACbC,IAAK,GACLC,QAAS,GACTC,QAAO,GAQT,WACEC,QAAQC,IAAIC,KAAKR,QAGnB,WACEQ,KAAKN,SAAW,CACdC,IAAK,GACLC,QAAS,GACTC,QAAO,GAIX,mBAEE,GAAIG,KAAKN,SAASC,KAAOK,KAAKN,SAASC,IAAIM,OAAOC,OAAS,GAAKF,KAAKN,SAASE,SAAWI,KAAKN,SAASE,QAAQK,OAAOC,OAAS,EAC7H,GAAIF,KAAKN,SAASC,MAAQK,KAAKN,SAASE,QAAS,CAE/C,MAAMO,EAAU,CACd,YAAe,CACb,SAAYH,KAAKN,SAASC,IAC1B,OAAUK,KAAKR,OAAOY,MAAMC,QAGhCL,KAAKR,OAAOc,cAAa,GACzBN,KAAKV,YAAYiB,eAAeJ,GAC7BK,UAAWC,IAGV,GAFAX,QAAQC,IAAI,iBAAkBU,GAE1BA,EAAIC,OAAoC,IAA3BD,EAAIC,MAAMC,aACzBX,KAAKT,OAAOqB,QAAQ,iCACpBZ,KAAKN,SAAW,CACdC,IAAK,GACLC,QAAS,GACTC,QAAQ,QAGV,GAAIY,EAAIC,MAAO,CACb,GAAID,EAAIC,MAAMG,mBAAmBX,OAAS,EACxC,IAAK,IAAIY,EAAI,EAAGA,EAAIL,EAAIC,MAAMG,mBAAmBX,OAAQY,IACvDd,KAAKT,OAAOmB,MAAMD,EAAIC,MAAMG,mBAAmBC,GAAGC,WAItD,GAAIN,EAAIC,MAAMM,eAAed,OAAS,EACpC,IAAK,IAAIY,EAAI,EAAGA,EAAIL,EAAIC,MAAMM,eAAed,OAAQY,IACnDd,KAAKT,OAAOmB,MAAMD,EAAIC,MAAMM,eAAeF,GAAGC,gBAGpB,GAArBN,EAAIE,cACbX,KAAKT,OAAOmB,MAAM,2DAGtBV,KAAKR,OAAOc,cAAa,UAG7BN,KAAKT,OAAOmB,MAAM,wCAGpBV,KAAKT,OAAOmB,MAAM,2D,6CAzEXrB,GAAgB,8E,mDAAhBA,EAAgB,m+CFV7B,yCACE,sCAAI,wCAAY,8BAChB,iCACA,yCACE,yCAEE,2CAWA,2CAYA,2CAYA,2CAYA,4CAaA,4CAWA,kCACA,kCACA,6CAiBF,8BAcF,8BACF,+B,MAzGmC,+HAWA,gIAYA,8HAYA,6HAYA,4HAaA,qGAae,wG,y+BErE3C,KDCA,Y,MAAM4B,G,yDAAAA,I,+EAAAA,IAAoB,SAHtB,CAAC,IAAaC,SAAShC,IACtB,O,GAEL,GEQA,Q,MAAMiC,G,yDAAAA,I,+EAAAA,IAAa,SARf,CACP,eACA,EACA,IACA,IACA,Q,GAGG","file":"profile-profile-module.js","sourcesContent":["<div class=\"container profile mt-5\">\n  <h3>User Details</h3>\n  <br/>\n  <div class=\"row justify-content-between\">\n    <div class=\"col-7 user-details\">\n      <!-- Username -->\n      <div class=\"form-group row\" *ngIf=\"config?.user?.firstName\">\n        <label for=\"name\" class=\"col-4 col-form-label\">First Name</label>\n        <div class=\"input-group col-6\">\n          <input type=\"text\" class=\"form-control\" readonly placeholder=\"First name\" value=\"{{config?.user?.firstName}}\">\n          <!-- <div class=\"input-group-append\">\n            <button class=\"btn btn-primary\" type=\"button\">\n              <span class=\"material-icons-outlined\">edit</span>\n            </button>\n          </div> -->\n        </div>\n      </div>\n      <div class=\"form-group row\" *ngIf=\"config?.user?.middleName\">\n        <label for=\"name\" class=\"col-4 col-form-label\">Middle Name</label>\n        <div class=\"input-group col-6\">\n          <input type=\"text\" class=\"form-control\" readonly placeholder=\"Middle name\"\n            value=\"{{config?.user?.middleName}}\">\n          <!-- <div class=\"input-group-append\">\n            <button class=\"btn btn-primary\" type=\"button\">\n              <span class=\"material-icons-outlined\">edit</span>\n            </button>\n          </div> -->\n        </div>\n      </div>\n      <div class=\"form-group row\" *ngIf=\"config?.user?.lastName\">\n        <label for=\"name\" class=\"col-4 col-form-label\">Last Name</label>\n        <div class=\"input-group col-6\">\n          <input type=\"text\" class=\"form-control\" readonly placeholder=\"Last Name\" value=\"{{config?.user?.lastName}}\">\n          <!-- <div class=\"input-group-append\">\n            <button class=\"btn btn-primary\" type=\"button\">\n              <span class=\"material-icons-outlined\">edit</span>\n            </button>\n          </div> -->\n        </div>\n      </div>\n      <!-- mailid -->\n      <div class=\"form-group row\" *ngIf=\"config?.login?.email\">\n        <label for=\"name\" class=\"col-4 col-form-label\">Email Id</label>\n        <div class=\"input-group col-6\">\n          <input type=\"text\" class=\"form-control\" readonly placeholder=\"Email id\" value=\"{{config?.login?.email}}\">\n          <!-- <div class=\"input-group-append\">\n            <button class=\"btn btn-primary\" type=\"button\">\n              <span class=\"material-icons-outlined\">edit</span>\n            </button>\n          </div> -->\n        </div>\n      </div>\n      <!-- Phone -->\n      <div class=\"form-group row\" *ngIf=\"config?.user?.mobile\">\n        <label for=\"name\" class=\"col-4 col-form-label\">Phone Number</label>\n        <div class=\"input-group col-6\">\n          <input type=\"text\" class=\"form-control\" readonly placeholder=\"+91 8807698554\"\n            value=\"{{config?.user?.mobile}}\">\n          <!-- <div class=\"input-group-append\">\n            <button class=\"btn btn-primary\" type=\"button\">\n              <span class=\"material-icons-outlined\">edit</span>\n            </button>\n          </div> -->\n        </div>\n      </div>\n      <!-- Password -->\n      <div class=\"form-group row\" *ngIf=\"!password?.isOpen\">\n        <label for=\"name\" class=\"col-4 col-form-label\">Change Password</label>\n        <div class=\"input-group col-6\">\n          <input type=\"text\" class=\"form-control\" placeholder=\"**********\" aria-label=\"\" readonly>\n          <div class=\"input-group-append\">\n            <button class=\"btn btn-primary\" type=\"button\" (click)=\"password.isOpen = true\">\n              <span class=\"material-icons-outlined\">edit</span>\n            </button>\n          </div>\n        </div>\n      </div>\n      <br/>\n      <br/>\n      <div class=\"container bg-light border p-3\" *ngIf=\"password?.isOpen\">\n          <h5>Change Password</h5>\n          <br/>\n          <div class=\"form-label-group\">\n            <label for=\"inputEmail\">New Password</label>\n            <input type=\"password\" id=\"password\" class=\"form-control\" placeholder=\"New Passport\" required autofocus [(ngModel)]=\"password.new\">\n          </div>\n          <br/>\n          <div class=\"form-label-group\">\n            <label for=\"inputEmail\">Confirm Password</label>\n            <input type=\"password\" id=\"changePassword\" class=\"form-control\" placeholder=\"Confirm Passport\" required autofocus [(ngModel)]=\"password.confirm\">\n          </div>\n          <password-strength-meter [password]=\"password.new\"></password-strength-meter>\n          <br />\n          <button class=\"btn btn-primary text-uppercase\" type=\"submit\" (click)=\"onChangePassword()\">Change</button>\n          <button class=\"btn btn-default text-uppercase\" type=\"button\" [disabled]=\"password.new!==password.confirm\" (click)=\"onCancel()\">Cancel</button>\n      </div>\n    </div>\n    <!-- <div class=\"col-4 user-photo\">\n      <div class=\"card\">\n        <div class=\"card-body\">\n          <div class=\"d-flex flex-row justify-content-between\">\n            <h5>Profile Picture</h5>\n            <button type=\"button\" class=\"btn btn-primary btn-sm\"> <span class=\"material-icons-round\">\n                edit\n              </span></button>\n          </div>\n        </div>\n        <img class=\"profile-photo\" src=\"../../../assets/img_avatar.png\" alt=\"Card image\">\n      </div>\n    </div> -->\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProfileComponent } from './profile.component';\n\nconst routes: Routes = [{ path: '', component: ProfileComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ProfileRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { ToastrService } from 'ngx-toastr';\nimport { CONFIG } from '../config';\nimport { AuthService } from '../services/auth.service';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.scss']\n})\nexport class ProfileComponent implements OnInit {\n\n  config: typeof CONFIG = CONFIG;\n  canChangePassword:boolean = false;\n  password:any = {\n    new: \"\",\n    confirm: \"\",\n    isOpen:false\n  }\n  \n  constructor(\n    private authService: AuthService,\n    private toastr: ToastrService\n  ) { }\n\n  ngOnInit(): void {\n    console.log(this.config);\n  }\n\n  onCancel() {\n    this.password = {\n      new: \"\",\n      confirm: \"\",\n      isOpen:false\n    }\n  }\n\n  onChangePassword() {\n\n    if (this.password.new && this.password.new.trim().length > 0 && this.password.confirm && this.password.confirm.trim().length > 0 ) {\n      if (this.password.new === this.password.confirm) {\n\n        const payload = {\n          \"serviceData\": {\n            \"password\": this.password.new ,\n            \"userId\": this.config.login.email \n          }\n        }\n        this.config.toggleLoader(true);\n        this.authService.changePassword(payload)\n          .subscribe((res: any) => {\n            console.log(\"changePassword\", res);\n    \n            if (res.error && res.error.responseCode === 0) {\n              this.toastr.success(\"Password reset successfull!!.\");\n              this.password = {\n                new: \"\",\n                confirm: \"\",\n                isOpen: false\n              };\n            } else {\n              if (res.error) {\n                if (res.error.businessValidation.length > 0) {\n                  for (let i = 0; i < res.error.businessValidation.length; i++) {\n                    this.toastr.error(res.error.businessValidation[i].errorDesc);\n                  }\n                }\n    \n                if (res.error.dataValidation.length > 0) {\n                  for (let i = 0; i < res.error.dataValidation.length; i++) {\n                    this.toastr.error(res.error.dataValidation[i].errorDesc);\n                  }\n                }\n              } else if (res.responseCode == -1) {\n                this.toastr.error(\"Password reset Failed, Please try again after sometimes\");\n              }\n            }\n            this.config.toggleLoader(false);\n          });\n      } else { \n        this.toastr.error(\"Confirm password doesn't match.\");\n      }\n    } else {\n      this.toastr.error(\"Please enter Password and Confirm Password to procced.\");\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ProfileRoutingModule } from './profile-routing.module';\nimport { ProfileComponent } from './profile.component';\nimport { PasswordStrengthMeterModule } from 'angular-password-strength-meter';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n\n@NgModule({\n  declarations: [ProfileComponent],\n  imports: [\n    CommonModule,\n    ProfileRoutingModule,\n    PasswordStrengthMeterModule,\n    FormsModule,\n    ReactiveFormsModule,\n  ]\n})\nexport class ProfileModule { }\n"],"sourceRoot":"webpack:///"}